<?xml version="1.0" encoding="EUC-JP" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
	<meta name="robots" content="NOINDEX,NOFOLLOW" />
	<title>Mame/圧縮の方法 の変更点 - プチコンまとめWiki (初代/mkII)</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">	
	<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
	<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">
	<link rel="stylesheet" href="../sys/skin/pure/forms.css" type="text/css" media="screen" charset="Shift_JIS" />
	<link rel="stylesheet" href="../sys/skin/pure/buttons.css" type="text/css" media="screen" charset="Shift_JIS" />
	<link rel="stylesheet" href="../sys/skin/standard-3gou-pure.css" type="text/css" media="screen" charset="Shift_JIS" />
		<link rel="stylesheet" href="../sys/skin/smilebasic.css" type="text/css" media="screen" charset="Shift_JIS" />
	<link rel="stylesheet" href="../sys/skin/standard-petc/colorbox.css" type="text/css" media="screen" charset="Shift_JIS" />
	<!--[if IE]><link rel="stylesheet" href="../sys/skin/smilebasic-ie.css" type="text/css"/><![endif]-->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> 
	<script type="text/javascript" src="../sys/skin/standard-petc/wordbreak.js"></script> 
	<script type="text/javascript" src="../sys/skin/standard-petc/jquery.colorbox-min.js"></script> 
		<meta name="twitter:title" content="Mame/圧縮の方法 の変更点 - プチコンまとめWiki (初代/mkII)" />
	<meta name="twitter:description" content="たぶんわかる! たぶん飛び出す! プログラムが組めそうな気がするWiki" />
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:image" content="http://wiki.hosiken.jp/sys/skin/face/hakase-cry-rev.png" />
	<meta name="twitter:site" content="@hosiken" />
	<link rel="alternate" type="application/rss+xml" title="RSS" href="/petc/?cmd=rss" />	<script language="JavaScript">
		$(document).ready(function(){
			$(".ColorBoxYouTube").colorbox({iframe:true, innerWidth:425, innerHeight:344});
		});
		(function(l){var i,s={touchend:function(){}};for(i in s)l.addEventListener(i,s)})(document); // sticky hover fix in iOS
	</script>
<body>

<div id="block-container">

	<div id="block-header">

		<h1><a href="/petc/">プチコンまとめWiki (初代/mkII)</a></h1>

	<div id="block-topbox">
		<div id="headermenu">
	<ul class="menu">
		<li><a href="./?plugin=search">検索</a></li>
		<li><a href="./?Help">ヘルプ</a></li>
		<li class="parent last highlight"><a href="javascript:void(0);">Wikiの機能</a><ul>
				<li><a href="/petc/?cmd=edit&amp;page=Mame%2F%B0%B5%BD%CC%A4%CE%CA%FD%CB%A1">このページを編集</a></li>
				<li><a href="/petc/?cmd=diff&amp;page=Mame%2F%B0%B5%BD%CC%A4%CE%CA%FD%CB%A1">前回からの変更点</a></li>
				<li><a href="/petc/?plugin=attach&amp;pcmd=upload&amp;page=Mame%2F%B0%B5%BD%CC%A4%CE%CA%FD%CB%A1">ファイルをアップロード</a></li>
				<li><a href="/petc/?plugin=newpage&amp;refer=Mame%2F%B0%B5%BD%CC%A4%CE%CA%FD%CB%A1">新しいページをつくる</a></li>
				<li><a href="/petc/?cmd=list">すべてのページの一覧</a></li>
				<li><a href="/petc/?RecentChanges">最近更新されたページ</a></li>

</ul></li>
</ul>
</div>
</div>

	</div>

	<div id="block-extra-navi">
		<ul>
			<li><a href="/petc4/">プチコン4</a></li>
			<li><a href="/petc3gou/">3号/BIG</a></li>
			<li id="active">初代/mkII</li>
</ul>
	</div>


	<div class="pure-u-1">
		<div id="block-body"><div id="block-body-container">

			<h2>Mame/圧縮の方法 の変更点</h2>

			<div id="block-pankuzu-body">

				<h3 id="header-pankuzu">パンくずリスト</h3>

				<ul id="list-pankuzu">
<li id="list-pankuzu-home"><a href="/petc/">トップ</a></li>
<li><a href="/petc/?Mame">Mame</a></li>
<li id="list-pankuzu-current"><a href="/petc/?Mame%2F%B0%B5%BD%CC%A4%CE%CA%FD%CB%A1">圧縮の方法</a></li>				</ul>

			</div>

<div id="body">
<ul>
<li>追加された行は<span class="diff_added">この色</span>です。</li>
<li>削除された行は<span class="diff_removed">この色</span>です。</li>
 <li><a href="/petc/?Mame%2F%B0%B5%BD%CC%A4%CE%CA%FD%CB%A1">Mame/圧縮の方法</a> へ行く。</li>
<li><a href="/petc/?cmd=diff&amp;action=undo&amp;page=Mame%2F%B0%B5%BD%CC%A4%CE%CA%FD%CB%A1">変更を無効にして元に戻す</a></li>
<li><a href="/petc/?cmd=diff&amp;action=delete&amp;page=Mame%2F%B0%B5%BD%CC%A4%CE%CA%FD%CB%A1">Mame/圧縮の方法 の差分を削除</a></li>
</ul>
<hr class="full_hr" /><pre><span class="diff_added"  >#title(圧縮の方法)</span>
#contents

*概要 [#y3db7b2b]
様々な圧縮方法を紹介していきます。用途はセーブデータ圧縮、ネタバレ防止などです。&amp;br;
詳細なデータを交えながら考察していきます。プログラムの圧縮ではありませんのでご注意下さい。&amp;br;
複数の圧縮方法で圧縮する方法良い方法です。ここでいう圧縮とは可逆圧縮の事です。非可逆圧縮は扱いません。

*圧縮方法一覧 [#ne277009]
**HEX$()圧縮 [#s73447c9]
圧縮したい数が入った変数を&amp;basic{A};、圧縮された数を入れる変数を&amp;basic{B$};、展開された数を入れる変数を&amp;basic{C};とすると、

圧縮方法
#basic{{
B$=HEX$(A)
}}
展開方法
#basic{{
C=VAL(&quot;&amp;H&quot;+B$)
}}
(圧縮前、圧縮後)=(10進数、16進数)である。

|&gt;|~性能|
|文字列の圧縮|不可|
|正の整数の圧縮|可能|
|負の整数の圧縮|可能|
|小数の圧縮|不可|
|圧縮後の状態|文字列|
|圧縮後の文字数|1〜5|
|圧縮プログラムの行数|1|
|展開プログラムの行数|1|
|削減率|※-150%〜50%|

※詳細&amp;br;
圧縮前が0〜9なら削減率は0%である。&amp;br;
圧縮前が10〜15なら削減率は50%である。&amp;br;
圧縮前が16〜99なら削減率は0%である。&amp;br;
圧縮前が100〜255なら削減率は33.33%である。&amp;br;
圧縮前が256〜999なら削減率は0%である。&amp;br;
圧縮前が1000〜4095なら削減率は25%である。&amp;br;
圧縮前が4096〜9999なら削減率は0%である。&amp;br;
圧縮前が10000〜65536なら削減率は20%である。&amp;br;
圧縮前が65536〜99999なら削減率は0%である。&amp;br;
圧縮前が100000〜524287なら削減率は16.66%である。&amp;br;
圧縮前が-1〜-9なら削減率は-150%である。&amp;br;
圧縮前が-10〜-99なら削減率は-66.66%である。&amp;br;
圧縮前が-100〜-999なら削減率は-25%である。&amp;br;
圧縮前が-1000〜-9999なら削減率は0%である。&amp;br;
圧縮前が-10000〜-99999なら削減率は16.66%である。&amp;br;
圧縮前が-100000〜-524287なら削減率は28.57%である。&amp;br;


欠点は削減率が0%以下になる場合がある事です。負の整数を使っていないときはそのような事はありません。

**CHR$()圧縮 [#m6a0c0d1]
圧縮したい数が入った変数を&amp;basic{A};、圧縮された数を入れる変数を&amp;basic{B$};、展開された数を入れる変数を&amp;basic{C};とすると、

圧縮方法
#basic{{
B$=CHR$(A)
}}
展開方法
#basic{{
C=ASC(B$)
}}
(圧縮前、圧縮後)=(文字コード、文字)です。

|&gt;|~性能|
|文字列の圧縮|不可|
|正の整数の圧縮|0〜255のみ可能|
|負の整数の圧縮|不可|
|小数の圧縮|不可|
|圧縮後の状態|文字列|
|圧縮後の文字数|1|
|圧縮プログラムの行数|1|
|展開プログラムの行数|1|
|削減率|※0%〜50%|

※詳細&amp;br;
圧縮前が0〜9なら削減率は0%である。&amp;br;
圧縮前が10〜99なら削減率は50%である。&amp;br;
圧縮前が100〜255なら削減率は33.33%である。

欠点は圧縮できる範囲が狭いことです。削減率はそこそこですが削減できる文字じたいは0〜2文字です。&amp;br;
圧縮後は全て1文字なので複数のデータを一つにまとめるのが容易です。

*圧縮のための変換 [#vad4dddb]
**小数と小数点無し表記の変換 [#m9ad5da1]
これにより小数も整数のように圧縮することが出来ます。&amp;br;
例）145.5⇔1451、87.39⇔87392、0.002⇔23

アルゴリズムについて&amp;br;
例）12.1*10⇔12.1*10^1⇔121,1⇔1211&amp;br;
例）1.38*100⇔1.38*10^2⇔138,2⇔1382&amp;br;
例）36.287*1000⇔36.287*10^3⇔36287,3⇔362873&amp;br;
例）5.2127*10000⇔5.2127*10^4⇔52127,4⇔521274&amp;br;
のような感じです。

変換したい数が入った変数を&amp;basic{A};、変換された数を入れる変数を&amp;basic{B};とすると、

小数→小数点無し
#basic{{
I=0:B=A
@START
 IF B==FLOOR(B) GOTO@ENDER
 D=INSTR(STR$(B),&quot;.&quot;)
 E$=MID$(STR$(B),0,D)
 F$=MID$(STR$(B),D+1,1)
 G=LEN(STR$(B))-D
 H$=MID$(STR$(B),D+2,G)
 B=VAL(B$):I=I+1
GOTO@START
@ENDER
B=VAL(STR$(B)+STR$(I))
}}
変換したい数が入った変数を&amp;basic{B};、変換された数を入れる変数を&amp;basic{C};とすると、

小数点無し→小数
#basic{{
B$=STR$(B)
C=VAL(LEFT$(B$,LEN(B$)-1))
FOR I=1 TO VAL(RIGHT$(B$,1))
 C=C/10
NEXT
}}

/////////////////////////////////

* CHECKER FLAG (ひとことコメント) [#y7e6aa7e]
コメントがあれば一言どうぞ。(作品に直接関係ない質問や雑談は[[掲示板&gt;Board]]へ)

#comment
</pre>
</div>

		</div></div>

	</div>

	<div id="block-pukiwiki-info">


		<p id="pukiwiki-about">表示モード : [ <strong>スマホ・3DS対応表示</strong> | <a href="./setskin.php?mode=pc">クラシック表示</a> ]<br />
		<strong>PukiWiki 1.4.7</strong> Copyright &copy; 2001-2006 <a href="http://pukiwiki.sourceforge.jp/">PukiWiki Developers Team</a>. License is <a href="http://www.gnu.org/licenses/gpl.html">GPL</a>. Based on "PukiWiki" 1.3 by <a href="http://factage.com/yu-ji/">yu-ji</a><br />
		ページの処理時間 : 0.005 秒  | <a href="/petc/?plugin=login">ログイン</a><br />
		Copyright(C) 2011-2014 プチコンまとめWiki ◆1sxkymI8ji30</p>

	</div>

</div>

<script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-2091180-9']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();

</script>

</body>

</html>
