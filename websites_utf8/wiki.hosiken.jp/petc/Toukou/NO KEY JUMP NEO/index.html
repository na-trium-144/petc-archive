<?xml version="1.0" encoding="EUC-JP" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
	<title>投稿プログラム : NO KEY JUMP NEO - プチコンまとめWiki (初代/mkII)</title>
	<link rel="stylesheet" href="../sys/skin/standard-3gou.css" type="text/css" media="screen" charset="Shift_JIS" />
	<link rel="stylesheet" href="../sys/skin/smilebasic.css" type="text/css" media="screen" charset="Shift_JIS" />
	<link rel="stylesheet" href="../sys/skin/standard-petc/colorbox.css" type="text/css" media="screen" charset="Shift_JIS" />
	<!--[if IE]><link rel="stylesheet" href="../sys/skin/smilebasic-ie.css" type="text/css"/><![endif]-->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> 
	<script type="text/javascript" src="../sys/skin/standard-petc/wordbreak.js"></script> 
	<script type="text/javascript" src="../sys/skin/standard-petc/jquery.colorbox-min.js"></script> 
	<link rel="alternate" type="application/rss+xml" title="RSS" href="/petc/?cmd=rss" /> <meta name="keywords" content="投稿プログラム, ゲーム, mkII専用" />
	<script language="JavaScript">
		$(document).ready(function(){
			$(".ColorBoxYouTube").colorbox({iframe:true, innerWidth:425, innerHeight:344});
		});
	</script>
</head>

<body>

<div id="block-container">

	<div id="block-header">

		<h1><a href="/petc/">プチコンまとめWiki (初代/mkII)</a></h1>

		<h2 id="header-navigation">ナビゲーション</h2>

		<h3 id="header-search">ウィキ</h3>

		<div id="block-topbox">

			<p><strong>ウィキ メニュー</strong>

				&nbsp;:&nbsp;
				<a href="/petc/?cmd=edit&amp;page=Toukou%2FNO%20KEY%20JUMP%20NEO">編集</a> -
				<a href="/petc/?cmd=diff&amp;page=Toukou%2FNO%20KEY%20JUMP%20NEO">差分</a> -
				<a href="/petc/?plugin=attach&amp;pcmd=upload&amp;page=Toukou%2FNO%20KEY%20JUMP%20NEO">添付</a> -
				<a href="/petc/?plugin=newpage&amp;refer=Toukou%2FNO%20KEY%20JUMP%20NEO">新規</a> -
				<a href="/petc/?cmd=search">検索</a> -
				<a href="/petc/?cmd=list">一覧</a> -
				<a href="/petc/?RecentChanges">新着</a> -
				<a href="/petc/?Help">ヘルプ</a>
			</p>

		</div>

		<div class="clear"></div>

	</div>

	<div id="block-extra-navi">
		<ul>
			<li><a href="/petc3gou/">プチコン3号</a></li>
			<li id="active">プチコン初代/mkII</li>
		<ul>
	</div>


	<div id="block-body">

		<div id="block-sidemenu">

			<div id="block-sidemenu-container">

<h3 id="content_4_0">メニュー 【mkII】</h3>
<ul><li><a href="/petc/?FrontPage" title="FrontPage (129d)">トップページ</a></li>
<li><a href="/petc/?Mame" title="Mame (39d)">まめちしき</a></li>
<li><a href="/petc/?Memo" title="Memo (534d)">プチコンメモ</a></li>
<li><a href="/petc/?FAQ" title="FAQ (573d)">よくある質問集</a></li>
<li><a href="/petc/?Bug" title="Bug (189d)">既知の不具合</a></li>
<li><a href="/petc/?Sample" title="Sample (325d)">サンプルプログラム集</a></li>
<li><a href="/petc/?Toukou" title="Toukou (129d)">投稿プログラム</a></li>
<li><a href="/petc/?WorksLink" title="WorksLink (129d)">プチコン作品リンク集</a></li>
<li><a href="/petc/?Demand" title="Demand (6d)">プチコンへの要望</a></li>
<li><a href="/petc/?OverFlow" title="OverFlow (11d)">OFコーナー</a></li>
<li><a href="http://jbbs.livedoor.jp/computer/43199/" rel="nofollow">プチコン掲示板</a>
<ul><li><a href="http://jbbs.livedoor.jp/bbs/read.cgi/computer/43199/1314589236/l50" rel="nofollow">総合スレッド</a></li>
<li><a href="http://jbbs.livedoor.jp/bbs/read.cgi/computer/43199/1345877567/l50" rel="nofollow">質問スレッド</a></li>
<li><a href="http://jbbs.livedoor.jp/bbs/read.cgi/computer/43199/1340598492/l50" rel="nofollow">意見/要望スレッド</a></li></ul></li>
<li><a href="/petc/?Chat" title="Chat (13d)">チャットルーム</a></li>
<li><a href="/petc/?Contact" title="Contact (918d)">管理人に連絡</a></li></ul>
<ul><li><a href="http://wiki.hosiken.jp/petc3gou/" rel="nofollow">プチコン3号 まとめWiki</a></li></ul>

<h3 id="content_4_1">ヘルプ</h3>
<ul><li><a href="/petc/?Help" title="Help (128d)">ヘルプ</a></li>
<li><a href="/petc/?SandBox" title="SandBox (3d)">編集の練習用ページ</a></li></ul>

<h3 id="content_4_2">リンク</h3>
<ul><li><a href="http://smileboom.com/special/ptcm2/" rel="nofollow">プチコンmkII 公式サイト</a></li>
<li><a href="http://smileboom.com/special/ptcm2/html_reference.php" rel="nofollow">mkII公式コマンド一覧</a></li>
<li><a href="http://smileboom.com/special/ptcm2/co_manual/p01.php" rel="nofollow">mkII公式説明書</a></li>
<li><a href="http://smileboom.com/special/ptcm2/qrmaker/" rel="nofollow">QR コード変換ツール</a></li>
<li><a href="http://smileboom.com/special/ptcm2/co_konnichiwa/p01.php" rel="nofollow">公式初心者むけ講座</a></li>
<li><a href="http://smileboom.com/special/petitcom/pochette.html" rel="nofollow">公式プログラムリスト集</a></li></ul>
<ul><li><a href="http://smileboom.com/special/petitcom/" rel="nofollow">旧プチコン公式サイト</a></li>
<li><a href="http://smileboom.com/special/petitcom/download.html" rel="nofollow">旧公式説明書</a></li>
<li><a href="http://smileboom.com/special/petitcom/command.html" rel="nofollow">旧公式コマンド一覧</a></li>
<li><a href="http://smileboom.com/special/petitcom/konnichiwa.html" rel="nofollow">旧公式初心者むけ講座</a></li></ul>
<ul><li><a href="http://petitcomputer.wikia.com/wiki/Petit_Computer_Wiki" rel="nofollow">Petit Computer Wiki</a></li></ul>
<ul><li><a href="/petc/?Link" title="Link (33d)">プチコンリンク集</a></li></ul>
<h3>最近の更新</h3><!-- 10 --><div><h4>2015/03/27</h4>
<ul>
 <li><a href="/petc/?Toukou%2F%A5%D3%A5%C3%A5%B0%A5%D6%A5%EA%A5%C3%A5%C2%A4%CE%BB%E0%C6%AE%A1%DAMML%A1%DB" title="Toukou/ビッグブリッヂの死闘【MML】 (1d)">Toukou/ビッグブリッヂの死闘【MML】</a></li>
 <li><a href="/petc/?Toukou%2Fvs%20%A5%AF%A5%EA%A1%BC%A5%D1%A1%BC" title="Toukou/vs クリーパー (1d)">Toukou/vs クリーパー</a></li>
</ul>
<h4>2015/03/25</h4>
<ul>
 <li><a href="/petc/?Toukou%2FGO%21GO%21%A5%B9%A5%A4%A5%AB%B3%E4%A4%EA" title="Toukou/GO!GO!スイカ割り (3d)">Toukou/GO!GO!スイカ割り</a></li>
 <li><a href="/petc/?Toukou%2F%A1%DAMineCraft%A1%DBpiano2.ogg%A1%DAComposed%A1%DB" title="Toukou/【MineCraft】piano2.ogg【Composed】 (3d)">Toukou/【MineCraft】piano2.ogg【Composed】</a></li>
</ul>
<h4>2015/03/24</h4>
<ul>
 <li><a href="/petc/?Toukou%2F%A5%D7%A5%C1%A5%B3%A5%F3TV" title="Toukou/プチコンTV (3d)">Toukou/プチコンTV</a></li>
 <li><a href="/petc/?SandBox" title="SandBox (3d)">SandBox</a></li>
</ul>
<h4>2015/03/23</h4>
<ul>
 <li><a href="/petc/?Toukou%2F%A5%B9%A5%DE%C2%BCDX" title="Toukou/スマ村DX (4d)">Toukou/スマ村DX</a></li>
 <li><a href="/petc/?Toukou%2F%CF%A2%BA%BF%A5%B7%A5%DF%A5%E5%A5%EC%A1%BC%A5%BF%A1%BC" title="Toukou/連鎖シミュレーター (5d)">Toukou/連鎖シミュレーター</a></li>
</ul>
<h4>2015/03/22</h4>
<ul>
 <li><a href="/petc/?Toukou%2F%CA%C9%BC%B0%CC%C2%CF%A9%A5%B2%A1%BC%A5%E0" title="Toukou/壁式迷路ゲーム (6d)">Toukou/壁式迷路ゲーム</a></li>
 <li><a href="/petc/?Toukou%2F%A5%AB%A5%E9%A5%D5%A5%EB%A1%A6%A5%C9%A5%E9%A5%E0" title="Toukou/カラフル・ドラム (6d)">Toukou/カラフル・ドラム</a></li>
</ul>
</div>

<h3 id="content_4_3">オンライン情報</h3>
<p>現在同時に 2 人がこのサイトを見ています</p>

			</div>

		</div>

		<div id="block-body-container" class="with-sidemenu">

			<h2>投稿プログラム : NO KEY JUMP NEO</h2>

			<div id="block-pankuzu-body">

				<h3 id="header-pankuzu">パンくずリスト</h3>

				<ul id="list-pankuzu">
<li id="list-pankuzu-home"><a href="/petc/">トップ</a></li>
<li><a href="/petc/?Toukou">Toukou</a></li>
<li id="list-pankuzu-current"><a href="/petc/?Toukou%2FNO%20KEY%20JUMP%20NEO">NO KEY JUMP NEO</a></li>				</ul>

			</div>

<div id="body">
<!--  / 0.087sec. -->
<div class="contents">
<ul><li><a href="#f71fb663">  内容 </a></li>
<li><a href="#u10e3f4c"> バグ情報　2013/06/20 </a></li>
<li><a href="#y0fe0f93"> スクリーンショット </a></li>
<li><a href="#yc46af7a"> 遊び方 </a>
<ul><li><a href="#e549c286"> ゲーム操作 </a></li>
<li><a href="#w79ca6d4"> アワード&amp;セーブ </a></li>
<li><a href="#kf470d6c"> セーブデータの削除 </a></li>
<li><a href="#cec8e808"> ゲームの終了 </a></li></ul></li>
<li><a href="#s227d260"> クリックコメント </a></li>
<li><a href="#z943f974">  QR コード </a></li>
<li><a href="#r4b275ba"> 製作ノート </a>
<ul><li><a href="#a28a8a04"> NO KEY JUMP からの作り込みポイント </a></li>
<li><a href="#te9b4aad"> スコア計算式 </a></li>
<li><a href="#ba56c3e7"> MEMファイル保存 </a></li>
<li><a href="#c9dd39f1"> アワードフラグの解説 </a>
<ul><li><a href="#n18038b6"> 二進数における素数みたいなもの </a></li>
<li><a href="#x95848fd"> そもそも、素数とはなんだったか </a></li>
<li><a href="#ae78dc48"> 二進数表記との関連 </a></li>
<li><a href="#hbf3dc9a"> AND演算をつかう </a></li>
<li><a href="#h7b0f89f"> フラグ管理に利用 </a></li>
<li><a href="#q2606fc6"> これは何に使えるのか </a></li>
<li><a href="#pa793ea1"> 追記 </a></li></ul></li></ul></li>
<li><a href="#z6765132">  CHECKER FLAG (ひとことコメント) </a></li></ul>
</div>

<p>2013年6月17日投稿
/ 投稿者 : 猫姫
/ <span class="tag">タグ : <a href="/petc/?cmd=taglist&amp;tag=%C5%EA%B9%C6%A5%D7%A5%ED%A5%B0%A5%E9%A5%E0">投稿プログラム</a> <a href="/petc/?cmd=taglist&amp;tag=%A5%B2%A1%BC%A5%E0">ゲーム</a> <a href="/petc/?cmd=taglist&amp;tag=mkII%C0%EC%CD%D1">mkII専用</a> </span></p>
<h3 id="f71fb663">内容</h3>
<p>ついに、ワンキーを越えました。<br />
NO KEY GAMEです。<br />
セーブや終了にはさすがに。ボタンを使いましたが、<br />
ゲーム部分の操作に関しては、ボタンは使いません。<br />
<br />
なお、以前にアップした、<a href="http://wiki.hosiken.jp/petc/?Toukou%2FDS%A4%CE%B3%B8%A4%F22%C9%C3%CA%C4%A4%B8%A4%BF%A4%E9%BD%AA%CE%BB%A4%B9%A4%EB%A5%D7%A5%ED%A5%B0%A5%E9%A5%E0" rel="nofollow">「DSの蓋を2秒閉じたら終了するプログラム」</a>
で、<br />
応用ゲームとして簡単に作った「NO KEY JUMP」を、<br />
作り込んだものです。</p>

<h3 id="u10e3f4c">バグ情報　2013/06/20</h3>
<p>誤字がありました。<br />
ゲーム自体に支障はありません。<br />
ARC DE TRIOMPHE が、ARC DE TRIOMFHEと、表示されます。<br /></p>
<div class="basic-source"><div class="basic-list"><code><ol start="442"><li>ＬＯＣＡＴＥ　５，１７：ＰＲＩＮＴ　”２０：”：ＩＦ　（ＡＷ（２）　ＡＮＤ　３２）＝＝３２　ＴＨＥＮ　ＬＯＣＡＴＥ　５，１７：ＰＲＩＮＴ　”２０：ＡＲＣ　ＤＥ　ＴＲＩＯＭ<span style="color:RED;">Ｐ</span>ＨＥ（　５０Ｍ）”</li>
</ol></code></div></div>
<p>まったくスマートじゃない部分で恥ずかしいのですが、上記の通りです。</p>

<h3 id="y0fe0f93">スクリーンショット</h3>
<div class="table-wrapper"><table class="border"><tbody><tr><td class="style_td">通常画面</td><td class="style_td">アワード画面</td></tr><tr><td class="style_td"><a href="/petc/?plugin=attach&amp;refer=Toukou%2FNO%20KEY%20JUMP%20NEO&amp;openfile=sc1.jpg" title="sc1.jpg"><img src="/petc/?plugin=ref&amp;page=Toukou%2FNO%20KEY%20JUMP%20NEO&amp;src=sc1.jpg" alt="sc1.jpg" title="sc1.jpg" width="240" height="320" /></a></td><td class="style_td"><a href="/petc/?plugin=attach&amp;refer=Toukou%2FNO%20KEY%20JUMP%20NEO&amp;openfile=sc2.jpg" title="sc2.jpg"><img src="/petc/?plugin=ref&amp;page=Toukou%2FNO%20KEY%20JUMP%20NEO&amp;src=sc2.jpg" alt="sc2.jpg" title="sc2.jpg" width="240" height="320" /></a></td></tr></tbody></table></div>

<h3 id="yc46af7a">遊び方</h3>

<h4 id="e549c286">ゲーム操作</h4>
<p>パワーメータが上下しています。<br />
パワーが溜まっているときに、DSの蓋を閉じてください。<br />
5秒たったら、蓋を開けると、ジャンプします。<br />
あなたは、何メートルジャンプできますか。</p>

<h4 id="w79ca6d4">アワード&amp;セーブ</h4>
<p>SELECTボタン以外のどのボタンでもOKです。<br />
時刻が表示されている、通常画面で押すと、<br />
獲得したアワード、ハイスコアの確認、セーブが出来ます。<br />
アワードは、ゲーム中に条件を満たすと追加されていきます。<br />
全35種類あります。</p>

<h4 id="kf470d6c">セーブデータの削除</h4>
<p>通常画面で、タッチパネルにふれると、セーブデータ削除画面がでます。</p>

<h4 id="cec8e808">ゲームの終了</h4>
<p>SELECTボタンで終了します。（邪道ですかね）</p>

<h3 id="s227d260">クリックコメント</h3>
<form action="/petc/" method="post"> 
<div><input type="hidden" name="encode_hint" value="ぷ" /></div>
 <table cellspacing="0" cellpadding="2" class="style_table" summary="vote">
  <tr>
   <td align="left" class="vote_label" style="padding-left:1em;padding-right:1em"><strong>選択肢</strong>
    <input type="hidden" name="plugin"  value="vote" />
    <input type="hidden" name="refer"   value="Toukou/NO KEY JUMP NEO" />
    <input type="hidden" name="vote_no" value="0" />
    <input type="hidden" name="digest"  value="e87e7885088e0fbdf693d92ee9f27d81" />
   </td>
   <td align="center" class="vote_label"><strong>投票</strong></td>
  </tr>
  <tr>
   <td align="left"  class="vote_td2" style="padding-left:1em;padding-right:1em;">あたらしい</td>
   <td align="right" class="vote_td2">8&nbsp;&nbsp;
    <input type="submit" name="vote_A4A2A4BFA4E9A4B7A4A4" value="投票" class="submit" />
   </td>
  </tr>
  <tr>
   <td align="left"  class="vote_td1" style="padding-left:1em;padding-right:1em;">みたことあるよ</td>
   <td align="right" class="vote_td1">1&nbsp;&nbsp;
    <input type="submit" name="vote_A4DFA4BFA4B3A4C8A4A2A4EBA4E8" value="投票" class="submit" />
   </td>
  </tr>
  <tr>
   <td align="left"  class="vote_td2" style="padding-left:1em;padding-right:1em;">むずかしい</td>
   <td align="right" class="vote_td2">0&nbsp;&nbsp;
    <input type="submit" name="vote_A4E0A4BAA4ABA4B7A4A4" value="投票" class="submit" />
   </td>
  </tr>
  <tr>
   <td align="left"  class="vote_td1" style="padding-left:1em;padding-right:1em;">簡単すぎ</td>
   <td align="right" class="vote_td1">0&nbsp;&nbsp;
    <input type="submit" name="vote_B4CAC3B1A4B9A4AE" value="投票" class="submit" />
   </td>
  </tr>
  <tr>
   <td align="left"  class="vote_td2" style="padding-left:1em;padding-right:1em;">おもしろい</td>
   <td align="right" class="vote_td2">0&nbsp;&nbsp;
    <input type="submit" name="vote_A4AAA4E2A4B7A4EDA4A4" value="投票" class="submit" />
   </td>
  </tr>
  <tr>
   <td align="left"  class="vote_td1" style="padding-left:1em;padding-right:1em;">つまらない</td>
   <td align="right" class="vote_td1">0&nbsp;&nbsp;
    <input type="submit" name="vote_A4C4A4DEA4E9A4CAA4A4" value="投票" class="submit" />
   </td>
  </tr>
 </table>
</form>

<p>訪問者<br />
トータル:1382人<br />
今日:1人<br /></p>

<h3 id="z943f974">QR コード</h3>
<p>プチコンmkII 向けの QR コードです。<br /></p>
<div class="table-wrapper"><table class="border"><tbody><tr><td class="style_td">PRG:NHPJGN</td><td class="style_td"></td></tr><tr><td class="style_td"><a href="/petc/?plugin=attach&amp;refer=Toukou%2FNO%20KEY%20JUMP%20NEO&amp;openfile=qr1.jpg" title="qr1.jpg"><img src="/petc/?plugin=ref&amp;page=Toukou%2FNO%20KEY%20JUMP%20NEO&amp;src=qr1.jpg" alt="qr1.jpg" title="qr1.jpg" width="210" height="779" /></a></td><td class="style_td"><a href="/petc/?plugin=attach&amp;refer=Toukou%2FNO%20KEY%20JUMP%20NEO&amp;openfile=qr2.jpg" title="qr2.jpg"><img src="/petc/?plugin=ref&amp;page=Toukou%2FNO%20KEY%20JUMP%20NEO&amp;src=qr2.jpg" alt="qr2.jpg" title="qr2.jpg" width="211" height="775" /></a></td></tr></tbody></table></div>

<h3 id="r4b275ba">製作ノート</h3>
<table class="region-table" style="margin-left: -0.5em; border-style:none;"><tr>
<td valign="top" style="vertical-align: top; border-style:none;">
	<span id="rgn_button1" style="cursor:pointer;border:gray 1px solid;padding-left:0.35em;padding-right:0.35em;"
	onclick="
	if(document.getElementById('rgn_summary1').style.display!='none'){
		document.getElementById('rgn_summary1').style.display='none';
		document.getElementById('rgn_content1').style.display='block';
		document.getElementById('rgn_bracket1').style.borderStyle='solid none solid solid';
		document.getElementById('rgn_button1').innerHTML='-';
	}else{
		document.getElementById('rgn_summary1').style.display='block';
		document.getElementById('rgn_content1').style.display='none';
		document.getElementById('rgn_bracket1').style.borderStyle='none';
		document.getElementById('rgn_button1').innerHTML='+';
	}
	">+</span>
</td><td id="rgn_bracket1" style="font-size:1pt ;border:#aaaaaa 1px; width:4px; padding:0; border-style:none;">&nbsp;</td><td id="rgn_summary1" style="color:#aaaaaa ;border:#aaaaaa 1px solid; display:block;">ネタバレを含みます。注意してください
</td><td valign="top" id="rgn_content1" style="border-style:none; margin-bottom: -1.5em; position:relative; top: -0.75em; display:none;">

<h4 id="a28a8a04">NO KEY JUMP からの作り込みポイント</h4>
<p>1:デザインの見直し<br />
　キャラが小さかったので、32x32の４倍サイズに
　SPSCALEで拡大。<br />
　空間が寂しかったので、時刻表示してみました。（おまけ）<br />
　ジャンプ処理中に、色々なエフェクトを入れてます。<br />
2:ゲーム処理の見直し<br />
　最高スコアを999mにしています。<br />
　減点計算が1秒単位だったものを、1/100秒単位になっています。<br />
　ただし、スコア計算後、スコアを整数化しています。<br />
　ジャンプ演出時間を短くしています。<br />
　パワーメータの仕様を変更<br />
　100到達で減算に、0到達で加算に変更。<br />
3:ゲーム要素の追加<br />
　アワードを追加。<br />
　これにより、コレクター性、ゲーム攻略要素が加わりました。<br /></p>

<h4 id="te9b4aad">スコア計算式</h4>
<p>1:基本点<br />
　基本点=Px999/100<br />
　パワーメータ(変数P)の最大値は100のため、<br />
　基本点最大値は999です。<br />
2:減点
　減点=Px(ABS(5-G))/10x999/100<br />
　G=スリープ状態だった時間(1/100秒単位)<br />
　5秒ジャストで、減点が0<br />
　10秒で、減点率50%<br />
　15秒で、減点率100%になります。<br />
　また、条件式でSCORE最低点は、0になってます。<br />
<br />
　最終的にスコアは、FLOOR命令で整数化しています。</p>

<h4 id="ba56c3e7">MEMファイル保存</h4>
<p>1:ハイスコアの日付0000/00/00<br />
　10文字x5つ分<br />
2:ハイスコアの記録<br />
　3文字x5つ分<br />
3:プレイ回数(255回まで記録)<br />
　CHR$変換、1文字<br />
4:アワードの獲得フラグ<br />
　１文字につき、8つまで記録可能。<br />
　ただし、今回は1文字7つまでしか使っていません。<br />
　5文字利用<br />
5:スター獲得個数<br />
　51000まで記録<br />
　STR$変換5文字利用。<br />
<br />
以上の内容を、76文字で保存</p>

<h4 id="c9dd39f1">アワードフラグの解説</h4>
<p>ビット演算(AND)を利用しています。<br />
これにより、1変数255までの数値の中で、8つまでフラグ管理がおこなえます。<br />
ビット演算については、<a href="http://smileboom.com/special/ptcm2/co_konnichiwa/p11.php#11_programmer" rel="nofollow">公式の初心者講座</a>に解りやすく紹介されています。<br />
(もし解らないとするならば、それは公式が悪いのではなく、ビット演算が悪い)<br />
こんかいは、ANDに特化したフラグ管理解説です。<br /></p>

<h5 id="n18038b6">二進数における素数みたいなもの</h5>
<p>フラグ管理に使う数字は、決まっています。<br />
CHR$が使える、255までの数字では、<br />
[1][2][4][8][16][32][64][128]<br />
の8つしかありません。<br />
1変数8つまで管理出来るという根拠は、ここにあります。<br />
これらは、10進数の素数のような要素があると考えます。<br /></p>

<h5 id="x95848fd">そもそも、素数とはなんだったか</h5>
<p>素数は、[1と、その数でしか割ることの出来ない整数]をいいます。<br />
10進数でいうところの、<br />
[2][3][5][7][11][13][17]…<br />
などをいいます。<br />
これを使って、数字を素数の積で表せます。<br />
例えば、144という数字は、2x2x2x2x3x3とあらわせます。<br /></p>

<h5 id="ae78dc48">二進数表記との関連</h5>
<p>話を戻します。<br />
たとえば、先程の144を、二進数にします。<br />
[&amp;b10010000]となります。<br />
ここでの、&amp;bは、以下の数字は二進数という意味です。<br />
この数字、8桁目から[128の位]、以下、[64の位][32の位][16の位]……<br />
と振っていくと、<br />
128が一つと、16が一つ。足せば、144になります。<br />
こうみると、[&amp;b10010000]は、128と16がひとつずつありますよー<br />
という意味に見えませんか</p>

<h5 id="hbf3dc9a">AND演算をつかう</h5>
<p>ここで、AND演算をつかってみます。<br />
変数Qに128の要素があるかどうかは、<br />
[Q AND 128]<br />
と書きます。<br />
もし、Q=144ならば<br />
[144 AND 128=128]<br />
となります。<br />
また、144には、64の要素は無いので、<br />
[144 AND 64=0]<br />
となります。<br /></p>

<h5 id="h7b0f89f">フラグ管理に利用</h5>
<p>フラグ管理を変数Fにさせます。<br />
フラグ1を、[1]<br />
フラグ2を、[2]<br />
フラグ3を、[4]<br />
フラグ4を、[8]<br />
…と、決めておきます。<br />
たとえば、なにかしらのフラグ変化で、フラグ１がTRUEになったときに、<br /></p>
<div class="basic-source"><div class="basic-list"><code><ol><li>Ｆ＝Ｆ＋１</li>
</ol></code></div></div>
<p>その後、フラグ３がTRUEになると<br /></p>
<div class="basic-source"><div class="basic-list"><code><ol><li>Ｆ＝Ｆ＋４</li>
</ol></code></div></div>
<p>とします。<br />
計算式上は、今、変数Fには５という数字になっています。<br />
ここで、フラグ３がTRUEか確かめたい状態になりました。<br />
上記AND計算を条件式に組み込みます。<br /></p>
<div class="basic-source"><div class="basic-list"><code><ol><li>ＩＦ　（Ｆ　ＡＮＤ　４）＝＝４　ＴＨＥＮ　＠ＦＬＡＧ３</li>
</ol></code></div></div>
<p>5は、1と4の要素であるので、上記条件式はTRUE。@FLAG3に飛びます。<br /></p>

<h5 id="q2606fc6">これは何に使えるのか</h5>
<p>文字数制限のあるMEMにフラグを沢山保存できます。<br />
一番解りやすいのでは、RPGの宝箱管理などに大活躍します。<br />
ロードするたびに、宝箱が元通りなんて…昔のRPGにしたくない。<br />
これをつかえば、MEM$10文字確保するだけで、80個の宝箱が自由自在になります。</p>

<h5 id="pa793ea1">追記</h5>
<p>フラグ管理に使った、[1][2][4][8][16][32][64][128]の8つの数字は、<br />
<span class="basic-text">Ｆ　ＡＮＤ　３２</span>　のような演算の結果は、0か、そのものの数字しかでません。<br />
よって、</p>
<div class="basic-source"><div class="basic-list"><code><ol><li>ＩＦ　（Ｆ　ＡＮＤ　３２）！＝０　ＴＨＥＮ　＠ＦＬＡＧ６</li>
</ol></code></div></div>
<p>と、したほうが、スマートになります。<br />
また、条件文IFは、!=0を省略できるので、<br /></p>
<div class="basic-source"><div class="basic-list"><code><ol><li>ＩＦ　Ｆ　ＡＮＤ　３２　ＴＨＥＮ　＠ＦＬＡＧ６</li>
</ol></code></div></div>
<p>これが一番短縮した形になります。</p>
</td></tr></table>

<h3 id="z6765132">CHECKER FLAG (ひとことコメント)</h3>
<p>この作品に対するコメントがあれば一言どうぞ。(作品に直接関係ない質問や雑談は<a href="/petc/?Board" title="Board (945d)">掲示板</a>へ)</p>
<ul><li><strong>toto</strong> : ARC DE TRIOMPHEがARC DE TRIOMFHEになってますよー (<span class="comment_date">2013/06/19 (水) 17:39:38</span>)</li>
<li><strong>猫姫</strong> : ありがとうございます。あの辺りは打ち間違いがかなりあるかも…。かくいう、アップ前に、日本の新ランドマークの高さを、644mとか打ってましたし(苦 (<span class="comment_date">2013/06/19 (水) 19:38:45</span>)</li>
<li><strong>ヤッフー</strong> : ゲーム自体のアイディア良いし、制作ノートもすごいわｗ (<span class="comment_date">2013/06/20 (木) 19:01:11</span>)</li>
<li><strong>いぬまろ</strong> : アワードフラグをプログラムに組み込んでよろしいですか？ (<span class="comment_date">2013/07/15 (月) 17:44:44</span>)</li>
<li><strong>猫姫</strong> : いや、そんな風にいわれるほどのものでもなく、ビット演算の使用例ですから、ふつうに真似てください。あと、フラグ管理に使う数字は２の階乗なので、POW(2,I)を使えば、配列変数とFORが使えますよ。 (<span class="comment_date">2013/07/15 (月) 20:14:11</span>)</li>
<li><strong>いぬまろ</strong> : なるほど             ありがとうございますm(_ _)m (<span class="comment_date">2013/07/15 (月) 20:37:25</span>)</li>
<li><strong>キャラクター製作所</strong> : DSの蓋壊れちゃいそう。(ﾟДﾟ )ｱﾗﾔﾀﾞ!! (<span class="comment_date">2014/10/26 (日) 13:19:58</span>)</li></ul>
<br />
<form action="/petc/" method="post"> 
<div><input type="hidden" name="encode_hint" value="ぷ" /></div>
 <div>
  <input type="hidden" name="plugin" value="comment" />
  <input type="hidden" name="refer"  value="Toukou/NO KEY JUMP NEO" />
  <input type="hidden" name="comment_no" value="0" />
  <input type="hidden" name="nodate" value="0" />
  <input type="hidden" name="above"  value="1" />
  <input type="hidden" name="digest" value="e87e7885088e0fbdf693d92ee9f27d81" />
  <label for="_p_comment_name_0">お名前: </label><input type="text" name="name" id="_p_comment_name_0" size="15" />

  <input type="text"   name="msg_text" id="_p_comment_comment_0" size="70" />
  <input type="submit" name="comment" value="コメントの挿入" />
 </div>
</form>
</div>

		</div>

		<div class="clear"></div>

	</div>

	<div id="block-pukiwiki-info">


		<p id="pukiwiki-about"><strong>PukiWiki 1.4.7</strong> Copyright &copy; 2001-2006 <a href="http://pukiwiki.sourceforge.jp/">PukiWiki Developers Team</a>. License is <a href="http://www.gnu.org/licenses/gpl.html">GPL</a>. Based on "PukiWiki" 1.3 by <a href="http://factage.com/yu-ji/">yu-ji</a><br />
		ページの処理時間 : 0.098 秒  | このページの最終更新 : 2014/10/26 (日) 13:19:58  (153d) | <a href="/petc/?plugin=login">ログイン</a><br />
		Copyright(C) 2011-2014 プチコンまとめWiki ◆1sxkymI8ji30</p>

	</div>

</div>

<script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-2091180-9']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();

</script>

</body>

</html>
