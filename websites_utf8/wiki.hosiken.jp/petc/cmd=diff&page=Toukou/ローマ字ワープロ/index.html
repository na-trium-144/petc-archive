<?xml version="1.0" encoding="EUC-JP" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
	<meta name="robots" content="NOINDEX,NOFOLLOW" />
	<title>Toukou/ローマ字ワープロ の変更点 - プチコンまとめWiki (初代/mkII)</title>
	<link rel="stylesheet" href="../sys/skin/standard-3gou.css" type="text/css" media="screen" charset="Shift_JIS" />
	<link rel="stylesheet" href="../sys/skin/smilebasic.css" type="text/css" media="screen" charset="Shift_JIS" />
	<link rel="stylesheet" href="../sys/skin/standard-petc/colorbox.css" type="text/css" media="screen" charset="Shift_JIS" />
	<!--[if IE]><link rel="stylesheet" href="../sys/skin/smilebasic-ie.css" type="text/css"/><![endif]-->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> 
	<script type="text/javascript" src="../sys/skin/standard-petc/wordbreak.js"></script> 
	<script type="text/javascript" src="../sys/skin/standard-petc/jquery.colorbox-min.js"></script> 
	<link rel="alternate" type="application/rss+xml" title="RSS" href="/petc/?cmd=rss" />	<script language="JavaScript">
		$(document).ready(function(){
			$(".ColorBoxYouTube").colorbox({iframe:true, innerWidth:425, innerHeight:344});
		});
	</script>
</head>

<body>

<div id="block-container">

	<div id="block-header">

		<h1><a href="/petc/">プチコンまとめWiki (初代/mkII)</a></h1>

		<h2 id="header-navigation">ナビゲーション</h2>

		<h3 id="header-search">ウィキ</h3>

		<div id="block-topbox">

			<p><strong>ウィキ メニュー</strong>

				&nbsp;:&nbsp;
				<a href="/petc/?cmd=edit&amp;page=Toukou%2F%A5%ED%A1%BC%A5%DE%BB%FA%A5%EF%A1%BC%A5%D7%A5%ED">編集</a> -
				<a href="/petc/?cmd=diff&amp;page=Toukou%2F%A5%ED%A1%BC%A5%DE%BB%FA%A5%EF%A1%BC%A5%D7%A5%ED">差分</a> -
				<a href="/petc/?plugin=attach&amp;pcmd=upload&amp;page=Toukou%2F%A5%ED%A1%BC%A5%DE%BB%FA%A5%EF%A1%BC%A5%D7%A5%ED">添付</a> -
				<a href="/petc/?plugin=newpage&amp;refer=Toukou%2F%A5%ED%A1%BC%A5%DE%BB%FA%A5%EF%A1%BC%A5%D7%A5%ED">新規</a> -
				<a href="/petc/?cmd=search">検索</a> -
				<a href="/petc/?cmd=list">一覧</a> -
				<a href="/petc/?RecentChanges">新着</a> -
				<a href="/petc/?Help">ヘルプ</a>
			</p>

		</div>

		<div class="clear"></div>

	</div>

	<div id="block-extra-navi">
		<ul>
			<li><a href="/petc3gou/">プチコン3号/BIG</a></li>
			<li id="active">プチコン初代/mkII</li>
		<ul>
	</div>


	<div id="block-body"><div id="block-body-container">

		<h2>Toukou/ローマ字ワープロ の変更点</h2>

		<div id="block-pankuzu-body">

			<h3 id="header-pankuzu">パンくずリスト</h3>

			<ul id="list-pankuzu">
<li id="list-pankuzu-home"><a href="/petc/">トップ</a></li>
<li><a href="/petc/?Toukou">Toukou</a></li>
<li id="list-pankuzu-current"><a href="/petc/?Toukou%2F%A5%ED%A1%BC%A5%DE%BB%FA%A5%EF%A1%BC%A5%D7%A5%ED">ローマ字ワープロ</a></li>			</ul>

		</div>

<div id="body">
<ul>
<li>追加された行は<span class="diff_added">この色</span>です。</li>
<li>削除された行は<span class="diff_removed">この色</span>です。</li>
 <li><a href="/petc/?Toukou%2F%A5%ED%A1%BC%A5%DE%BB%FA%A5%EF%A1%BC%A5%D7%A5%ED">Toukou/ローマ字ワープロ</a> へ行く。</li>
<li><a href="/petc/?cmd=diff&amp;action=undo&amp;page=Toukou%2F%A5%ED%A1%BC%A5%DE%BB%FA%A5%EF%A1%BC%A5%D7%A5%ED">変更を無効にして元に戻す</a></li>
<li><a href="/petc/?cmd=diff&amp;action=delete&amp;page=Toukou%2F%A5%ED%A1%BC%A5%DE%BB%FA%A5%EF%A1%BC%A5%D7%A5%ED">Toukou/ローマ字ワープロ の差分を削除</a></li>
</ul>
<hr class="full_hr" /><pre>#title(投稿プログラム：ローマ字ワープロ)
#contents
2012年9月1日投稿
/ 投稿者：わぁぃ＠
/ &amp;tag(投稿プログラム,実用ツール,QRコード,mkII専用);~

*概要 [#m6b7d14d]
簡易的なワープロです。
-ローマ字入力ができます。
-ひらがなとカタカナの混在表示ができます。
--[[「PETIKANA」&gt;Toukou/かなフォントPETIKANA]]フォントのCHRファイルを&amp;basic{&quot;PETIKANA&quot;};というファイル名で保存しておいて下さい。
--また、&amp;basic{&quot;PRG:PETIKANA&quot;};より&amp;basic{@PKN};ルーチンをお借りしています。
-MEMリソースやGRPリソースを用いてテキストの読み書きができます。

*注意 [#w0ace5e4]
このプログラムはv0.7です。~
<span class="diff_removed">-小さい「ゃ」「ゅ」「ょ」は打てません。</span>
<span class="diff_added"  >-小文字は打てません。</span>
-一度改行すると前の行に戻れません。

*不具合、更新情報 [#x17670d5]
-「YA」が「も」に変換される。(&amp;new{2012/09/03 (月) 19:39:10};)
--72行目の&amp;basic{AS&gt;35};を&amp;basic{AS&gt;36};にすると直るようです。(&amp;new{2012/09/03 (月) 19:39:10};)
--簡単に修正できるので、修正版は出しません。(&amp;new{2012/09/03 (月) 19:39:10};)

#BASIC(start=72){{
IF AS&gt;3&lt;COLOR&gt;(#e00){6} THEN AS=AS-1
}}

*操作方法 [#aeb738a4]
入力以外の操作はシステムアイコンで行います。
-「ABC」を押すたび、「直接」→「ローマ字カタカナ」→「ローマ字ひらがな」の順に入力モードを切り替わります。
-ページを切り替え、以下の組み合わせで押すとMEMリソースやGRPリソースに読み書きができます。
|~＼|~ＭＥＭ|~ＧＲＰ|
|~↑|MEM&amp;br;読み込み|GRP&amp;br;読み込み|
|~↓|MEM&amp;br;書き込み|GRP&amp;br;書き込み|

*QRコード [#w93bab2d]
プチコンmkII向けのQRコードです。
|&gt;|~PRG:WAROME|
|~1/2|~2/2|
|&amp;ref(PRG-WAROME-QR0.png,,200%);|&amp;ref(PRG-WAROME-QR1.png,,200%);|
-補正がかかって読み込めない場合は、画像をクリックすると等倍サイズのQRコードがご覧になれますのでぜひご利用ください。

*プログラムリスト [#programlist]
#basic{{
'ﾛｰﾏｼﾞﾜｰﾌﾟﾛ v0.7

VISIBLE 1,1,0,0,0,0
CLS:COLOR 0
CLEAR
LOAD &quot;BGF:PETIKANA&quot;,0
ICONCLR:ICONPUSE=1
ICONPAGE=0
ICONSET 0,35
DIM AX$(8,3)
DATA &quot;A&quot;,&quot;I&quot;,&quot;U&quot;,&quot;E&quot;,&quot;O&quot;
DATA &quot;K&quot;,&quot;S&quot;,&quot;T&quot;,&quot;N&quot;,&quot;H&quot;
DATA &quot;M&quot;,&quot;Y&quot;,&quot;R&quot;
DATA &quot;G&quot;,&quot;Z&quot;,&quot;D&quot;,&quot;&quot;,&quot;B&quot;
DATA &quot;P&quot;
DATA 44,&quot;WA&quot;,-10,&quot;WO&quot;
DATA 45,&quot;NN&quot;
FOR I=0 TO 4
READ AY$(I)
NEXT
FOR I=0 TO 7
READ AX$(I,0)
NEXT
FOR I=0 TO 4
READ AX$(I,1)
NEXT
READ AX$(0,2)
FOR I=0 TO 2
READ RAS(I),RAK$(I)
NEXT

@LOOP
VSYNC 1
OIP=IP:IP=ICONPAGE
IF OIP!=IP THEN ICONCLR:ON IP GOSUB @MENU1,@MENU2
IK$=INKEY$():IL=IK$!=&quot;&quot;
IF IK$!=&quot;&quot; THEN IK=ASC(IK$)
IF KEYBOARD==15 THEN LOCATE CSRX-1,CSRY:PRINT CHR$(0);:LOCATE CSRX-1,CSRY
IF IK$==CHR$(13) THEN PRINT CHR$(13):IW$=&quot;&quot;:IK$=&quot;&quot;
IF ICONPAGE THEN GOSUB @FILEMENU ELSE IF !ICONCHK() THEN BEEP 9:MD=(MD+1)%3:IW$=&quot;&quot;:IK$=&quot;&quot;:WAIT 2
IF !IL THEN @LOOP
IF !MD THEN PRINT IK$;:GOTO @LOOP
'-(マイナス)ハ -(チョウオン)ニ ヘンカン
IF IK$==&quot;-&quot; THEN IK$=&quot;-&quot;
IF IK&gt;64 AND IK&lt;91 THEN GOSUB @ROME ELSE PRINT IK$;
GOTO @LOOP
@ROME
IW$=IW$+IK$
FOR I=0 TO 4
IF IW$==AY$(I) THEN GOSUB @CHK
NEXT
IF LEN(IW$)&gt;=2 THEN GOSUB @CHK
RETURN
@CHK
DD$=&quot;&quot;:AX=0:AY=0:J=0
IF LEN(IW$)==1 THEN J=1:GOTO @SKIP2
IF MID$(IW$,1,1)==&quot;N&quot; THEN @SKIP1
IF MID$(IW$,0,1)==MID$(IW$,1,1) THEN AS=-1:GOTO @SKIP3
@SKIP1
FOR I=0 TO 7
IF I&lt;4 THEN IF IW$==RAK$(I) THEN AS=RAS(I):I=7:J=1
IF MID$(IW$,0,1)==AX$(I,0) THEN AX=I+1
IF MID$(IW$,0,1)==AX$(I,1) THEN AX=I+1:DD$=&quot;゛&quot;
IF MID$(IW$,0,1)==AX$(I,2) THEN AX=I+5:DD$=&quot;゜&quot;
NEXT
IF J THEN @SKIP3
@SKIP2
FOR I=0 TO 4
IF MID$(IW$,1-J,1)==AY$(I) THEN AY=I+1
NEXT
AS=AY+AX*5
IF AS&gt;35 THEN AS=AS-1
IF AS&gt;38 THEN AS=AS-1
@SKIP3
PKCA=AS+176
IF MD==2 THEN GOSUB @PKNC
PRINT CHR$(PKCA);DD$;
IF AS==-1 THEN IW$=MID$(IW$,1,1):RETURN
IW$=&quot;&quot;
RETURN

@PKNC
PKCA=PKCA-163
'ヘンカン タイショウカ゛イ ナラ モト゛ル
IF PKCA&lt;3 THEN RETURN
IF PKCA==13 THEN RETURN
IF PKCA&gt;58 THEN RETURN

'カタカナハ ヒラカ゛ナニ ヘンカン
IF PKCA&gt;8 THEN PKCA=PKCA+5
IF PKCA&gt;17 THEN PKCA=PKCA+2
IF PKCA&gt;23 THEN PKCA=PKCA+2
IF PKCA&gt;27 THEN PKCA=PKCA+100
IF PKCA&gt;143 THEN PKCA=PKCA+12
IF PKCA&gt;159 THEN PKCA=PKCA+72
IF PKCA&gt;239 THEN PKCA=PKCA+4
RETURN

@MENU1
ICONSET 0,35
RETURN

@MENU2
ICONSET 0,44
ICONSET 1,46
ICONSET 2,49
ICONSET 3,53
RETURN

@FILEMENU
IF ICONCHK()==0 THEN F1=1
IF ICONCHK()==1 THEN F1=2
IF ICONCHK()==2 THEN F2=1
IF ICONCHK()==3 THEN F2=2
IF !F1 OR !F2 THEN RETURN
IF F1==1 THEN ON F2-1 GOTO @MEMLOAD,@GRPLOAD
FOR I=0 TO 2
TEXT$(I)=&quot;&quot;
FOR J=0 TO 255
TEXT$(I)=TEXT$(I)+CHR$(CHKCHR(J%32,FLOOR(J/32)+I*8))
NEXT
NEXT
IF F1==2 THEN ON F2-1 GOTO @MEMSAVE,@GRPSAVE
@FILEINIT
F1=0:F2=0
RETURN

@MEMLOAD
FOR I=0 TO 2
LOAD &quot;MEM:R_TEXT&quot;+STR$(I)
PRINT MEM$;
NEXT
GOTO @FILEINIT

@GRPLOAD
LOAD &quot;GRP:R_TEXT0&quot;
FOR I=0 TO 767
PRINT CHR$(GSPOIT(I%256,FLOOR(I/256)));
NEXT
GOTO @FILEINIT

@MEMSAVE
FOR I=0 TO 2
MEM$=TEXT$(I)
SAVE &quot;MEM:R_TEXT&quot;+STR$(I)
NEXT
GOTO @FILEINIT

@GRPSAVE
FOR I=0 TO 2
FOR J=0 TO LEN(TEXT$(I))-1
GPSET J,I,ASC(MID$(TEXT$(I),J,1))
NEXT
NEXT
SAVE &quot;GRP:R_TEXT0&quot;
GOTO @FILEINIT
}}

*CHECKER FLAG (ひとことコメント) [#f8b3dc57]
この作品に対するコメントがあれば一言どうぞ。(その他の雑談は[[掲示板&gt;Board]]か[[ＯＦコーナー&gt;OverFlow]]でしようって。)~
- ''ななし＠おなかいっぱい'' : どうやってローマ字変換されるんだ？変換されない(´;ω;｀) (&amp;new{2012/09/01 (土) 17:22:22};)
- ''わぁぃ＠'' : すみません。「操作方法」を掲載しました。 (&amp;new{2012/09/01 (土) 17:41:57};)
- ''名無しさん'' : YAがモに。JAがアに。ZYAを打とうとしてZYでゴに。ローマ字変換の組み合わせは多いですよ。 (&amp;new{2012/09/01 (土) 17:58:29};)
- ''名無しさん'' : 「小さい「ゃ」「ゅ」「ょ」は打てません」って、それだけ単独で出すのができないという意味でなくて、JAも打てないということか･･･ (&amp;new{2012/09/01 (土) 18:06:34};)
- ''わぁぃ@'' : 「YA」が「も」なのはバグでそれ以外は未実装です。あせらずv1.0にしてから投稿したほうが良かったかな。 (&amp;new{2012/09/01 (土) 18:32:40};)
- ''わぁぃ@'' : ↑のバグは72行目の&amp;basic{AS&gt;35};を&amp;basic{AS&gt;36};にすると直るようです。お手数おかけして申し訳ありません。 (&amp;new{2012/09/01 (土) 18:42:23};)
- ''メルビル'' : うぽつです (&amp;new{2012/09/02 (日) 09:49:18};)
- ''&amp;basic{otyaken};'' : &amp;basic{ウポツ}; (&amp;new{2012/09/02 (日) 09:53:12};)
- ''AmakoSoft'' : ローマ字変換ライブラリ作ったのに・・・ (&amp;new{2012/09/05 (水) 23:34:33};)
- ''名無しさん'' : ↑？ (&amp;new{2012/09/05 (水) 23:54:48};)
- ''名無しさん'' : ↑↑サブルーチンで変換？　それなら部品として有用なので是非公開を。 (&amp;new{2012/09/06 (木) 11:59:51};)
- ''hatena'' : ↑*3　是非、[[サンプルプログラム集&gt;Sample]]のサブルーチンに載せて下さい。 (&amp;new{2012/09/06 (木) 19:03:39};)
- ''名無しさん'' : [[http://wiki.hosiken.jp/petc/?Toukou%2F%A5%ED%A1%BC%A5%DE%BB%FA%A4%CE%B5%D9%C6%FC]]です (&amp;new{2012/09/06 (木) 23:54:57};)
- ''名無しさん'' : １００行くらいあるからサンプルプログラム集に載せられない (&amp;new{2012/09/07 (金) 23:40:34};)
- ''名無しさん'' : ↑↑リンクが間違ってる？ (&amp;new{2012/09/08 (土) 11:24:24};)
- ''わぁぃ@'' : ↑またはページが消えたか？ (&amp;new{2012/09/08 (土) 11:33:51};)
- ''ななし'' : こっちは？http://wiki.hosiken.jp/petc/?Toukou%2F%A5%ED%A1%BC%A5%DE%BB%FA%A4%CE%B5%D9%C6%FC (&amp;new{2012/09/08 (土) 11:48:51};)
- ''わぁぃ@'' : 見れました。中身が違うから使いたい方を使えば良い。 (&amp;new{2012/09/08 (土) 12:05:29};)
- ''名無しさん'' : 「PETIKANA」フォントのCHRファイルを”ＰＥＴＩＫＡＮＡ”というファイル名で保存しておいて下さいっていうのどうやるんですか？ (&amp;new{2012/11/12 (月) 15:27:58};)
- ''↑'' : やり方わかんないんで具体的に教えて下さい (&amp;new{2012/11/12 (月) 15:29:12};)
- ''道産子の初心者'' : ↑説明します。1.PETIKANAを取り込む　2.「プログラムを作る」からそれを実行　3.フォントが変わる　4.そのままCHREDを起動　5.フォントを編集する所へ　6.フォントにひらがながあることを確認　7.そのまま保存 (&amp;new{2012/11/12 (月) 16:19:06};)
- ''道産子の初心者'' : ↑少し長々しいですが、そう難しいことは書いてない(はず)です。疑問があったらお知らせください。 (&amp;new{2012/11/12 (月) 16:28:34};)
- ''天郷思音'' : ↑*2 3.の次にSAVE&quot;BGF:PETIKANA&quot;(enter)ってやって「はい」でもok (&amp;new{2012/11/12 (月) 17:17:10};)
- ''名無しさん'' : RENAMEじゃだめ？ (&amp;new{2012/11/12 (月) 18:16:30};)
- ''道産子の初心者'' : RENAMEって何でしたっけ…。 (&amp;new{2012/11/13 (火) 17:10:04};)
- ''名無しさん'' : 説明書見よう (&amp;new{2012/11/13 (火) 17:28:30};)
- ''天郷思音'' : ↑3 RENAMEは改名ですからこの場面では意味ないです。 (&amp;new{2012/11/14 (水) 12:12:39};)

#comment
</pre>
</div>

	</div></div>

	<div id="block-pukiwiki-info">


		<p id="pukiwiki-about"><strong>PukiWiki 1.4.7</strong> Copyright &copy; 2001-2006 <a href="http://pukiwiki.sourceforge.jp/">PukiWiki Developers Team</a>. License is <a href="http://www.gnu.org/licenses/gpl.html">GPL</a>. Based on "PukiWiki" 1.3 by <a href="http://factage.com/yu-ji/">yu-ji</a><br />
		ページの処理時間 : 0.004 秒  | <a href="/petc/?plugin=login">ログイン</a><br />
		Copyright(C) 2011-2014 プチコンまとめWiki ◆1sxkymI8ji30</p>

	</div>

</div>

<script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-2091180-9']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();

</script>

</body>

</html>
