<?xml version="1.0" encoding="EUC-JP" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
	<title>三角関数の使い方 - プチコンまとめWiki (初代/mkII)</title>
	<link rel="stylesheet" href="../sys/skin/standard-3gou.css" type="text/css" media="screen" charset="Shift_JIS" />
	<link rel="stylesheet" href="../sys/skin/smilebasic.css" type="text/css" media="screen" charset="Shift_JIS" />
	<link rel="stylesheet" href="../sys/skin/standard-petc/colorbox.css" type="text/css" media="screen" charset="Shift_JIS" />
	<!--[if IE]><link rel="stylesheet" href="../sys/skin/smilebasic-ie.css" type="text/css"/><![endif]-->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> 
	<script type="text/javascript" src="../sys/skin/standard-petc/wordbreak.js"></script> 
	<script type="text/javascript" src="../sys/skin/standard-petc/jquery.colorbox-min.js"></script> 
	<link rel="alternate" type="application/rss+xml" title="RSS" href="/petc/?cmd=rss" />	<script language="JavaScript">
		$(document).ready(function(){
			$(".ColorBoxYouTube").colorbox({iframe:true, innerWidth:425, innerHeight:344});
		});
	</script>
</head>

<body>

<div id="block-container">

	<div id="block-header">

		<h1><a href="/petc/">プチコンまとめWiki (初代/mkII)</a></h1>

		<h2 id="header-navigation">ナビゲーション</h2>

		<h3 id="header-search">ウィキ</h3>

		<div id="block-topbox">

			<p><strong>ウィキ メニュー</strong>

				&nbsp;:&nbsp;
				<a href="/petc/?cmd=edit&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD">編集</a> -
				<a href="/petc/?cmd=diff&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD">差分</a> -
				<a href="/petc/?plugin=attach&amp;pcmd=upload&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD">添付</a> -
				<a href="/petc/?plugin=newpage&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD">新規</a> -
				<a href="/petc/?cmd=search">検索</a> -
				<a href="/petc/?cmd=list">一覧</a> -
				<a href="/petc/?RecentChanges">新着</a> -
				<a href="/petc/?Help">ヘルプ</a>
			</p>

		</div>

		<div class="clear"></div>

	</div>

	<div id="block-extra-navi">
		<ul>
			<li><a href="/petc3gou/">プチコン3号/BIG</a></li>
			<li id="active">プチコン初代/mkII</li>
		<ul>
	</div>


	<div id="block-body">

		<div id="block-sidemenu">

			<div id="block-sidemenu-container">

<h3 id="content_8_0">メニュー 【mkII】</h3>
<ul><li><a href="/petc/?FrontPage" title="FrontPage (471d)">トップページ</a></li>
<li><a href="/petc/?Mame" title="Mame (410d)">まめちしき</a></li>
<li><a href="/petc/?Memo" title="Memo (1353d)">プチコンメモ</a></li>
<li><a href="/petc/?FAQ" title="FAQ (285d)">よくある質問集</a></li>
<li><a href="/petc/?Bug" title="Bug (296d)">既知の不具合</a></li>
<li><a href="/petc/?Sample" title="Sample (747d)">サンプルプログラム集</a></li>
<li><a href="/petc/?Toukou" title="Toukou (948d)">投稿プログラム</a></li>
<li><a href="/petc/?WorksLink" title="WorksLink (518d)">プチコン作品リンク集</a></li>
<li><a href="/petc/?Demand" title="Demand (812d)">プチコンへの要望</a></li>
<li><a href="/petc/?OverFlow" title="OverFlow (4d)">OFコーナー</a></li>
<li><a href="http://jbbs.livedoor.jp/computer/43199/" rel="nofollow">プチコン掲示板</a></li>
<li><a href="/petc/?Chat" title="Chat (740d)">チャットルーム</a></li>
<li><a href="/petc/?Contact" title="Contact (479d)">管理人に連絡</a></li></ul>
<ul><li><a href="http://wiki.hosiken.jp/petc3gou/" rel="nofollow">プチコン3号 まとめWiki</a></li></ul>

<h3 id="content_8_1">ヘルプ</h3>
<ul><li><a href="/petc/?Help" title="Help (947d)">ヘルプ</a></li>
<li><a href="/petc/?SandBox" title="SandBox (22h)">編集の練習用ページ</a></li></ul>

<h3 id="content_8_2">リンク</h3>
<ul><li><a href="http://smileboom.com/special/ptcm2/" rel="nofollow">プチコンmkII 公式サイト</a></li>
<li><a href="http://smileboom.com/special/ptcm2/html_reference.php" rel="nofollow">mkII公式コマンド一覧</a></li>
<li><a href="http://smileboom.com/special/ptcm2/co_manual/p01.php" rel="nofollow">mkII公式説明書</a></li>
<li><a href="http://smileboom.com/special/ptcm2/qrmaker/" rel="nofollow">QR コード変換ツール</a></li>
<li><a href="http://smileboom.com/special/ptcm2/co_konnichiwa/p01.php" rel="nofollow">公式初心者むけ講座</a></li>
<li><a href="http://smileboom.com/special/petitcom/pochette.html" rel="nofollow">公式プログラムリスト集</a></li></ul>
<ul><li><a href="http://smileboom.com/special/petitcom/" rel="nofollow">旧プチコン公式サイト</a></li>
<li><a href="http://smileboom.com/special/petitcom/download.html" rel="nofollow">旧公式説明書</a></li>
<li><a href="http://smileboom.com/special/petitcom/command.html" rel="nofollow">旧公式コマンド一覧</a></li>
<li><a href="http://smileboom.com/special/petitcom/konnichiwa.html" rel="nofollow">旧公式初心者むけ講座</a></li></ul>
<ul><li><a href="http://petitcomputer.wikia.com/wiki/Petit_Computer_Wiki" rel="nofollow">Petit Computer Wiki</a></li></ul>
<ul><li><a href="/petc/?Link" title="Link (310d)">プチコンリンク集</a></li></ul>
<h3>最近の更新</h3><!-- 10 --><div><h4>2017/06/22</h4>
<ul>
 <li><a href="/petc/?Toukou%2FUBH" title="Toukou/UBH (1d)">Toukou/UBH</a></li>
</ul>
<h4>2017/06/19</h4>
<ul>
 <li><a href="/petc/?OverFlow" title="OverFlow (4d)">OverFlow</a></li>
</ul>
<h4>2017/06/05</h4>
<ul>
 <li><a href="/petc/?RecentDeleted" title="RecentDeleted (18d)">RecentDeleted</a></li>
</ul>
<h4>2017/04/27</h4>
<ul>
 <li><a href="/petc/?Mame%2FSmileBASIC%20%BD%E9%BF%B4%BC%D4%B9%D6%BA%C2" title="Mame/SmileBASIC 初心者講座 (57d)">Mame/SmileBASIC 初心者講座</a></li>
</ul>
<h4>2017/04/23</h4>
<ul>
 <li><a href="/petc/?Toukou%2F%B2%CB%A4%C0%A4%C3%A4%BF%A4%AB%A4%E9%BA%EE%A4%C3%A4%BF%A5%EC%A1%BC%A5%B9%A5%B2%A1%BC" title="Toukou/暇だったから作ったレースゲー (61d)">Toukou/暇だったから作ったレースゲー</a></li>
</ul>
<h4>2017/04/09</h4>
<ul>
 <li><a href="/petc/?Toukou%2F%A5%DE%A5%EA%A5%AABGM" title="Toukou/マリオBGM (75d)">Toukou/マリオBGM</a></li>
</ul>
<h4>2017/03/31</h4>
<ul>
 <li><a href="/petc/?Toukou%2FLIFEOS" title="Toukou/LIFEOS (84d)">Toukou/LIFEOS</a></li>
</ul>
<h4>2017/03/10</h4>
<ul>
 <li>Mame/三角関数の使い方</li>
</ul>
<h4>2017/02/26</h4>
<ul>
 <li><a href="/petc/?Toukou%2F%A5%B9%A5%C8%A5%DC%A5%F3%A4%CE%A5%A4%A5%F3%A5%D9%A1%BC%A5%C0%A1%BC%A5%B2%A1%BC%A5%E0%A1%A3" title="Toukou/ストボンのインベーダーゲーム。 (117d)">Toukou/ストボンのインベーダーゲーム。</a></li>
</ul>
<h4>2017/02/24</h4>
<ul>
 <li><a href="/petc/?Toukou%2F%C7%AF%B7%EE%C6%FC%BB%FE%CA%AC%C9%C3%C9%BD%BC%A8%B5%A1" title="Toukou/年月日時分秒表示機 (119d)">Toukou/年月日時分秒表示機</a></li>
</ul>
</div>

<h3 id="content_8_3">オンライン情報</h3>
<p>現在同時に 4 人がこのサイトを見ています</p>

			</div>

		</div>

		<div id="block-body-container" class="with-sidemenu">

			<h2>三角関数の使い方</h2>

			<div id="block-pankuzu-body">

				<h3 id="header-pankuzu">パンくずリスト</h3>

				<ul id="list-pankuzu">
<li id="list-pankuzu-home"><a href="/petc/">トップ</a></li>
<li><a href="/petc/?Mame">Mame</a></li>
<li id="list-pankuzu-current"><a href="/petc/?Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD">三角関数の使い方</a></li>				</ul>

			</div>

<div id="body">
<!--  / 0.044sec. -->
<div class="contents">
<ul><li><a href="#wcd7a94d"> 概要 </a></li>
<li><a href="#hajimeni">  お膳立て </a>
<ul><li><a href="#WhatFanc">  三角関数とは </a></li>
<li><a href="#HowToUse">  使い方 </a></li></ul></li>
<li><a href="#f_pi">  PI関数 </a></li>
<li><a href="#f_raddeg">  RAD,DEG関数 </a></li>
<li><a href="#f_cossin">  COS,SIN関数 </a>
<ul><li><a href="#f_cossin_m">  まとめ </a></li></ul></li>
<li><a href="#f_cossinplus">  もっとCOS,SIN関数 </a>
<ul><li><a href="#wave">  波形 </a></li>
<li><a href="#Ellipse">  楕円を描く </a></li></ul></li>
<li><a href="#f_tan">  TAN関数 </a></li>
<li><a href="#f_atan">  ATAN関数 </a></li>
<li><a href="#Question">  質問コーナー </a></li></ul>
</div>

<h3 id="wcd7a94d">概要</h3>
<ul><li>このページにお越しの皆様こんにちは。<br /></li>
<li>ここには図形やシューティングゲームなどで使うことのある三角関数について書きました。<br /></li>
<li>加筆・訂正してくれる人大歓迎です。ぜひお願いします。<br /></li></ul>

<h3 id="hajimeni">お膳立て</h3>
<p>みなさんは三角関数を知っていますか？説明書を見ても「何のこと言ってんだかさっぱりわからん」「そんなことよりサッカーしようぜ」<br />
という人もいるんじゃないかと思います。でも、そこであきらめないでください。更に高度なプログラムを作りたいと思っている初心者、中級者の皆さん、このページを読めば三角関数が使えるようになる（はずです！）<br />
ということで、三角関数についてざっくばらんではありますが、解説しようという趣旨のページをつくりました。<br />
是非活用してください。</p>

<h4 id="WhatFanc">三角関数とは</h4>
<p>これは、高校の数学で習うやつです。よくcosθ（コサインシータ）とか聞きますよね。~聞いたことないですか？大丈夫です。このページを何度も読めばわかるはずです。<br />
三角関数とは、角度やx,yの移動量の関係を求める関数です。<a id="notetext_1" href="#notefoot_1" class="note_super" title="まあそれだけじゃありませんけど">*1</a>「関数」というという名前の通りある値に対して違う数値を出してくれます。<br />
使い方としては、スプライトで弾を四方八方に発射させたり、キャラを動かしたり
時計やメーターで針を書くのに使ったりもします。<br />
記述の方法は式の中に挿入する形で書きます。参考プログラムを参考にしてください。<br />
これを使えるようになるととても便利です。本格シューティングゲームなんかも作れるんじゃないでしょうか。</p>

<h4 id="HowToUse">使い方</h4>
<p>プチコンでの三角関数に関係する関数は以下の種類があります。<br />
<span class="basic-text">ＰＩ</span>(パイ)関数<br />
<span class="basic-text">ＲＡＤ</span>(ラジアン)関数<br />
<span class="basic-text">ＤＥＧ</span>(デグリー)関数<br />
<span class="basic-text">ＣＯＳ</span>(コサイン)関数<br />
<span class="basic-text">ＳＩＮ</span>(サイン)関数<br />
<span class="basic-text">ＴＡＮ</span>(タンジェント)関数<br />
<span class="basic-text">ＡＴＡＮ</span>(アークタンジェント)関数<br />
今載っていない項目の加筆者募集中！！<br />
<br /></p>

<h3 id="f_pi">PI関数</h3>
<p>そのまんまです。中学で習う<strong>πの値（円周率）</strong>（3.14159265358979323846264338....)<strong>を返してくれます</strong>。<br />
でもプチコンは小数の精度が悪いので実際3.141ぐらいまでしか出してくれません。<br /></p>
<p>しかし、実はその下の「3.1415」付近までプチコンの内部では記録されています。<br />
ちなみに変数に3.14159265・・・を代入しても、「3.1415」を代入したときや、「PI()」を代入したときと<strong>まったく同じ</strong>です。<br />
ただし、「3.141」を代入した時とは違うので注意です</p>
<p>使用例です。</p>
<div class="basic-source"><div class="basic-list"><code><ol><li>ＣＬＳ</li>
<li>Ｐ＝ＰＩ（）</li>
<li>Ｒ＝４</li>
<li>Ｓ＝Ｐ＊Ｒ＊Ｒ</li>
<li>Ｌ＝Ｐ＊Ｒ＊２</li>
<li>ＰＲＩＮＴ”ハンケイ４ｃｍノエンノメンセキ”；Ｓ；”ｃｍ２</li>
<li>ＰＲＩＮＴ”ハンケイ４ｃｍノエンノエンシュウ”；Ｌ；”ｃｍ</li>
</ol></code></div></div>
<p><br /></p>

<h3 id="f_raddeg">RAD,DEG関数</h3>
<p>この関数は<strong>角度(degree)とラジアン(radian)の変換をする関数</strong>です。<br />
ラジアン数とは円周上でその円の半径と同じ長さの弧を切り取る2本の半径が成す角の値(wikipediaより)らしいですが、うーむわかりづらいですね。<br />
まあ<strong>角度の単位の一つ</strong>だと思ってください。<br />
ちなみに<strong>180°= π rad</strong><br />
<strong>1 rad=57.29577951°</strong><br />
です。
使い方は、<br />
角度→ラジアン：RAD(角度0〜360)<br />
ラジアン→角度：DEG(0〜2π)<br />
です。<a id="notetext_2" href="#notefoot_2" class="note_super" title="ラジアン＝角度*PI()/180...">*2</a></p>
<p>2013/12/06追記<br />
<span style="color:red">RAD関数では小数点以下の数値は無視されてしまうようです。小数点以下の数値も使う場合はPI()を用いて計算で求めてください。</span></p>

<h3 id="f_cossin">COS,SIN関数</h3>
<p>この関数は<strong>角度から移動量を求めることができる関数</strong>です。<br />
<br />
この関数に角度を渡すと<br />
<strong>COS関数ならXの移動量</strong><br />
<strong>SIN関数ならYの移動量</strong><br />
を返します。<br />
引数には角度を<a href="http://ja.wikipedia.org/wiki/%E3%83%A9%E3%82%B8%E3%82%A2%E3%83%B3" rel="nofollow">ラジアン数</a>で表します。<br /></p>
<hr class="full_hr" />
<p>ラジアンの求め方<br />
ラジアン＝RAD(角度0〜360)<br />
で求められます。<br />
注意:<strong>0度は右方向でそこから時計回り</strong>になっています。90度で真下になります。<br />
<a href="/petc/?plugin=attach&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;openfile=%B1%DF%A4%C0.png" title="円だ.png"><img src="/petc/?plugin=ref&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;src=%B1%DF%A4%C0.png" alt="円だ.png" title="円だ.png" width="325" height="259" /></a><br /></p>
<hr class="full_hr" />
<p>この関数を使って斜め線を引くと<strong>直線と距離を合わせる</strong>ことができます。</p>
<div class="basic-source"><div class="basic-list"><code><ol><li>ＧＰＡＧＥ　０</li>
<li>ＧＣＬＳ</li>
<li>ＣＸ＝０：ＣＹ＝０</li>
<li>ＬＸ１＝ＣＸ＋５０：ＬＹ１＝ＣＹ</li>
<li>ＬＸ２＝ＣＸ＋ＣＯＳ（ＲＡＤ（４０））＊５０</li>
<li>ＬＹ２＝ＣＹ＋ＳＩＮ（ＲＡＤ（４０））＊５０</li>
<li>ＧＬＩＮＥ　ＣＸ，ＣＹ，ＬＸ１，ＬＹ１，２</li>
<li>ＧＬＩＮＥ　ＣＸ，ＣＹ，ＬＸ２，ＬＹ２，２</li>
</ol></code></div></div>
<p>図解です<br />
<a href="/petc/?plugin=attach&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;openfile=%BB%B0%B3%D1%B4%D8%BF%F4%B2%F2%C0%E2.png" title="三角関数解説.png"><img src="/petc/?plugin=ref&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;src=%BB%B0%B3%D1%B4%D8%BF%F4%B2%F2%C0%E2.png" alt="三角関数解説.png" title="三角関数解説.png" width="446" height="391" /></a><br />
<br />
関数自体の返す値は小さい(0~1)ので実際にプログラムに使うときは<strong>掛けて大きくして使用</strong>します。<br />
<br />
参考プログラムその1<br />
・入力した角度にキャラが動く</p>
<div class="table-wrapper"><table class="border"><tbody><tr><th class="style_th">QRコード(COSTEST)</th></tr><tr><td class="style_td"><a href="/petc/?plugin=attach&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;openfile=qr0.PNG" title="qr0.PNG"><img src="/petc/?plugin=ref&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;src=qr0.PNG" alt="qr0.PNG" title="qr0.PNG" width="202" height="200" /></a></td></tr></tbody></table></div>
<table class="region-table" style="margin-left: -0.5em; border-style:none;"><tr>
<td valign="top" style="vertical-align: top; border-style:none;">
	<span id="rgn_button1" style="cursor:pointer;border:gray 1px solid;padding-left:0.35em;padding-right:0.35em;"
	onclick="
	if(document.getElementById('rgn_summary1').style.display!='none'){
		document.getElementById('rgn_summary1').style.display='none';
		document.getElementById('rgn_content1').style.display='block';
		document.getElementById('rgn_bracket1').style.borderStyle='solid none solid solid';
		document.getElementById('rgn_button1').innerHTML='-';
	}else{
		document.getElementById('rgn_summary1').style.display='block';
		document.getElementById('rgn_content1').style.display='none';
		document.getElementById('rgn_bracket1').style.borderStyle='none';
		document.getElementById('rgn_button1').innerHTML='+';
	}
	">+</span>
</td><td id="rgn_bracket1" style="font-size:1pt ;border:#aaaaaa 1px; width:4px; padding:0; border-style:none;">&nbsp;</td><td id="rgn_summary1" style="color:#aaaaaa ;border:#aaaaaa 1px solid; display:block;">プログラムリスト
</td><td valign="top" id="rgn_content1" style="border-style:none; margin-bottom: -1.5em; position:relative; top: -0.75em; display:none;">
<div class="basic-source"><div class="basic-list"><code><ol><li>ＡＣＬＳ</li>
<li>ＳＰＳＥＴ　０，６８，０，０，０，０</li>
<li>ＳＰＡＮＩＭ　０，４，１０</li>
<li>ＳＰＯＦＳ　０，１１９，９１</li>
<li>ＧＸ＝１１９：ＧＹ＝９１</li>
<li>＠Ｌ</li>
<li>ＩＮＰＵＴ”カクト゛ハ（０〜３６０）マウエハ０ト゛”；Ｃ</li>
<li>Ｃ＝Ｃ−９０</li>
<li>Ｃ＝Ｃ＋３６０＊（Ｃ＜０）</li>
<li>ＰＸ＝ＧＸ：ＰＹ＝ＧＹ</li>
<li>ＦＯＲ　Ｉ＝０　ＴＯ　７９</li>
<li>ＰＸ＝ＰＸ＋ＣＯＳ（ＲＡＤ（Ｃ））</li>
<li>ＰＹ＝ＰＹ＋ＳＩＮ（ＲＡＤ（Ｃ））</li>
<li>ＳＰＯＦＳ　０，ＰＸ，ＰＹ</li>
<li>ＶＳＹＮＣ　１</li>
<li>ＮＥＸＴ</li>
<li>ＷＡＩＴ　１２０</li>
<li>ＳＰＯＦＳ　０，ＧＸ，ＧＹ，３０</li>
<li>ＧＯＴＯ　＠Ｌ</li>
</ol></code></div></div>
</td></tr></table>
<p>入力した角度通りにキャラクタを移動させます。この移動に三角関数を使っています。<br />
ここで三角関数を使うとどの角度に動かしても<strong>同じ長さだけ</strong>動かすことができます。
これを使いこなせばかなり多用できると思います。<br />
例えば弾を四方八方に打ち出すときにこの関数を使うと放射状に綺麗に広がります。<br />
<br />
参考プログラムその2<br /></p>
<div class="table-wrapper"><table class="border"><tbody><tr><th class="style_th">QRコード(COSTEST2)</th></tr><tr><td class="style_td"><a href="/petc/?plugin=attach&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;openfile=qr1.PNG" title="qr1.PNG"><img src="/petc/?plugin=ref&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;src=qr1.PNG" alt="qr1.PNG" title="qr1.PNG" width="202" height="199" /></a></td></tr></tbody></table></div>
<table class="region-table" style="margin-left: -0.5em; border-style:none;"><tr>
<td valign="top" style="vertical-align: top; border-style:none;">
	<span id="rgn_button2" style="cursor:pointer;border:gray 1px solid;padding-left:0.35em;padding-right:0.35em;"
	onclick="
	if(document.getElementById('rgn_summary2').style.display!='none'){
		document.getElementById('rgn_summary2').style.display='none';
		document.getElementById('rgn_content2').style.display='block';
		document.getElementById('rgn_bracket2').style.borderStyle='solid none solid solid';
		document.getElementById('rgn_button2').innerHTML='-';
	}else{
		document.getElementById('rgn_summary2').style.display='block';
		document.getElementById('rgn_content2').style.display='none';
		document.getElementById('rgn_bracket2').style.borderStyle='none';
		document.getElementById('rgn_button2').innerHTML='+';
	}
	">+</span>
</td><td id="rgn_bracket2" style="font-size:1pt ;border:#aaaaaa 1px; width:4px; padding:0; border-style:none;">&nbsp;</td><td id="rgn_summary2" style="color:#aaaaaa ;border:#aaaaaa 1px solid; display:block;">プログラムリスト
</td><td valign="top" id="rgn_content2" style="border-style:none; margin-bottom: -1.5em; position:relative; top: -0.75em; display:none;">
<div class="basic-source"><div class="basic-list"><code><ol><li>ＡＣＬＳ：ＣＬＥＡＲ</li>
<li>ＳＰＳＥＴ　０，１７４，０，０，０，０</li>
<li>ＳＰＡＮＩＭ　０，２，５</li>
<li>ＳＰＯＦＳ　０，−１６，−１６</li>
<li>ＦＯＲ　Ｉ＝１　ＴＯ　９９</li>
<li>ＳＰＳＥＴ　Ｉ，２１４，０，０，０，０</li>
<li>ＮＥＸＴ</li>
<li>ＤＩＭ　ＢＸ（９９），ＢＹ（９９），ＢＣ（９９）</li>
<li>＠Ｌ</li>
<li>ＣＸ＝１２４：ＣＹ＝８８：ＣＣ＝ＲＮＤ（３６０）</li>
<li>ＦＯＲ　Ｉ＝０　ＴＯ　９８</li>
<li>ＢＣ（Ｉ）＝（ＣＣ＋Ｉ＊１５）％３６０</li>
<li>ＢＸ（Ｉ）＝ＣＸ</li>
<li>ＢＹ（Ｉ）＝ＣＹ</li>
<li>ＳＰＯＦＳ　Ｉ＋１，−１６，０</li>
<li>ＮＥＸＴ</li>
<li>ＳＰＯＦＳ　０，ＣＸ，ＣＹ</li>
<li>ＣＬＳ</li>
<li>ＦＯＲ　Ｋ＝０　ＴＯ　６２０</li>
<li>　　ＩＦ　Ｋ＝＝５００　ＴＨＥＮ　ＧＯＳＵＢ　＠ＰＲＩＮＴ</li>
<li>　ＦＯＲ　Ｉ＝０　ＴＯ　９８</li>
<li>　　ＩＦ　Ｋ＜Ｉ＊５　ＴＨＥＮ　ＧＯＴＯ　＠ＳＫＩＰ</li>
<li>　　Ｘ＝ＢＸ（Ｉ）：Ｙ＝ＢＹ（Ｉ）：Ｃ＝ＢＣ（Ｉ）</li>
<li>　　ＩＦ　Ｘ＜−１６　ＯＲ　Ｘ＞２５６　ＯＲ　Ｙ＜−１６　ＯＲ　Ｙ＞１９２　ＧＯＴＯ＠ＳＫＩＰ</li>
<li>　　Ｘ＝Ｘ＋ＣＯＳ（ＲＡＤ（Ｃ））</li>
<li>　　Ｙ＝Ｙ＋ＳＩＮ（ＲＡＤ（Ｃ））</li>
<li>　　ＳＰＯＦＳ　Ｉ＋１，Ｘ，Ｙ</li>
<li>　　ＢＸ（Ｉ）＝Ｘ</li>
<li>　　ＢＹ（Ｉ）＝Ｙ</li>
<li>　＠ＳＫＩＰ</li>
<li>　ＮＥＸＴ　Ｉ</li>
<li>’ＶＳＹＮＣ　１</li>
<li>ＮＥＸＴ　Ｋ</li>
<li>Ｋ＝０</li>
<li>ＧＯＴＯ＠Ｌ</li>
<li>＠ＰＲＩＮＴ</li>
<li>ＬＯＣＡＴＥ　１０，６</li>
<li>？”　ййййййййййййййййй</li>
<li>ＬＯＣＡＴＥ　１０，７</li>
<li>？”　з　　　　　　　　　　　　　　　и</li>
<li>ＬＯＣＡＴＥ　１０，８</li>
<li>？”　зチョット　キュウケイ　シマス。и</li>
<li>ＬＯＣＡＴＥ　１０，９</li>
<li>？”　з　　　　　　　　　　　　　　　и</li>
<li>ＬＯＣＡＴＥ　１０，１０</li>
<li>？”　жжжжж▼жжжжжжжжжжж</li>
<li>ＲＥＴＵＲＮ</li>
</ol></code></div></div>
</td></tr></table>
<p>ぐるぐると弾を打ち出すプログラムです。綺麗に弾が移動しているのが分かると思います。<br />
この関数は他にもメーターを描くときなどに使用できます。</p>

<h4 id="f_cossin_m">まとめ</h4>
<ol><li>COS,SIN関数を使うと<strong>斜めの線を描画</strong>できる。</li>
<li>COS,SIN関数には引数に<strong>ラジアン数</strong>(RAD(角度))を使う。</li>
<li>使うときは使う長さの分<strong>掛けて使用</strong>する。</li>
<li>SPRITEと斜めに移動させる時の移動量に使える。</li></ol>
<p>まあ、<strong>習うより慣れろ</strong>って感じですね。自分でプチコンいじって頑張って見てください。<br />
例えばサンプルプログラムのバイオリズムとか、ゲーム3のSIMPLE STGとか、色々あるよ。公式のプログラムは解説付きなのできっと味方になります。<br /></p>

<h3 id="f_cossinplus">もっとCOS,SIN関数</h3>
<p>波形について利用法などを書きます。</p>

<h4 id="wave">波形</h4>
<p>COS,SIN関数を使うとなだらかな波形を描くことができます。<br />
波形は360°で1周期となります。よって<br />
360/周期の長さ とすることで自由な周期の波形を描くことができます。</p>
<p>サンプルプログラム</p>
<div class="table-wrapper"><table class="border"><tbody><tr><th class="style_th">QRコード(SINTEST)</th></tr><tr><td class="style_td"><a href="/petc/?plugin=attach&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;openfile=SINTEST.PNG" title="SINTEST.PNG"><img src="/petc/?plugin=ref&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;src=SINTEST.PNG" alt="SINTEST.PNG" title="SINTEST.PNG" width="138" height="138" /></a></td></tr></tbody></table></div>
<table class="region-table" style="margin-left: -0.5em; border-style:none;"><tr>
<td valign="top" style="vertical-align: top; border-style:none;">
	<span id="rgn_button3" style="cursor:pointer;border:gray 1px solid;padding-left:0.35em;padding-right:0.35em;"
	onclick="
	if(document.getElementById('rgn_summary3').style.display!='none'){
		document.getElementById('rgn_summary3').style.display='none';
		document.getElementById('rgn_content3').style.display='block';
		document.getElementById('rgn_bracket3').style.borderStyle='solid none solid solid';
		document.getElementById('rgn_button3').innerHTML='-';
	}else{
		document.getElementById('rgn_summary3').style.display='block';
		document.getElementById('rgn_content3').style.display='none';
		document.getElementById('rgn_bracket3').style.borderStyle='none';
		document.getElementById('rgn_button3').innerHTML='+';
	}
	">+</span>
</td><td id="rgn_bracket3" style="font-size:1pt ;border:#aaaaaa 1px; width:4px; padding:0; border-style:none;">&nbsp;</td><td id="rgn_summary3" style="color:#aaaaaa ;border:#aaaaaa 1px solid; display:block;">プログラムリスト
</td><td valign="top" id="rgn_content3" style="border-style:none; margin-bottom: -1.5em; position:relative; top: -0.75em; display:none;">
<div class="basic-source"><div class="basic-list"><code><ol><li>ＡＣＬＳ</li>
<li>ＰＮＬＴＹＰＥ　”ＯＦＦ”</li>
<li>ＧＰＡＧＥ　１，１，１</li>
<li>Ｓ＝６０’シュウキ</li>
<li>＠ＤＲＡＷ</li>
<li>ＴＸ＝ＴＣＨＸ</li>
<li>Ｓ＝ＴＸ</li>
<li></li>
<li>Ｓ２＝３６０／Ｓ</li>
<li>ＯＹ＝９６</li>
<li>ＧＰＡＧＥ　１，２，１</li>
<li>ＧＣＬＳ　０</li>
<li>ＦＯＲ　Ｉ＝０　ＴＯ　２５６</li>
<li>’カ゛メンヲケス</li>
<li>Ｙ＝９６＋ＳＩＮ（ＲＡＤ（（Ｓ２＊Ｉ）％３６０））＊６０</li>
<li>ＧＬＩＮＥ　Ｉ−１，ＯＹ，Ｉ，Ｙ，１５</li>
<li>ＯＹ＝Ｙ</li>
<li>ＮＥＸＴ</li>
<li>ＧＰＡＧＥ　１，１，１</li>
<li>ＧＣＯＰＹ　２，０，０，２５５，１９１，０，０，１</li>
<li>ＶＳＹＮＣ　１</li>
<li>ＧＯＴＯ　＠ＤＲＡＷ</li>
</ol></code></div></div>
</td></tr></table>
<p>タッチで1周期の長さを変えることができます。ちなみにCOS関数を使うとちょうど90度分ずれることになります。<br />
これの応用として、サンプルプログラムのバイオリズムがあります。周期がそれぞれ違っているのが見てわかると思います。</p>

<h4 id="Ellipse">楕円を描く</h4>
<p>こちらの内容は当ウィキサンプルプログラム集からいただいています。</p>
<p>三角関数を使うと原点から同じ距離の点を求められるのでその点同士を結ぶことで円ができます。更に、COS,SIN関数の掛ける値を変えることで楕円をかくことができます。</p>
<p>サンプルプログラム</p>
<div class="table-wrapper"><table class="border"><tbody><tr><th class="style_th">QRコード(ELLIPSE)</th></tr><tr><td class="style_td"><a href="/petc/?plugin=attach&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;openfile=ELLIPSE.PNG" title="ELLIPSE.PNG"><img src="/petc/?plugin=ref&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;src=ELLIPSE.PNG" alt="ELLIPSE.PNG" title="ELLIPSE.PNG" width="156" height="159" /></a></td></tr></tbody></table></div>
<table class="region-table" style="margin-left: -0.5em; border-style:none;"><tr>
<td valign="top" style="vertical-align: top; border-style:none;">
	<span id="rgn_button4" style="cursor:pointer;border:gray 1px solid;padding-left:0.35em;padding-right:0.35em;"
	onclick="
	if(document.getElementById('rgn_summary4').style.display!='none'){
		document.getElementById('rgn_summary4').style.display='none';
		document.getElementById('rgn_content4').style.display='block';
		document.getElementById('rgn_bracket4').style.borderStyle='solid none solid solid';
		document.getElementById('rgn_button4').innerHTML='-';
	}else{
		document.getElementById('rgn_summary4').style.display='block';
		document.getElementById('rgn_content4').style.display='none';
		document.getElementById('rgn_bracket4').style.borderStyle='none';
		document.getElementById('rgn_button4').innerHTML='+';
	}
	">+</span>
</td><td id="rgn_bracket4" style="font-size:1pt ;border:#aaaaaa 1px; width:4px; padding:0; border-style:none;">&nbsp;</td><td id="rgn_summary4" style="color:#aaaaaa ;border:#aaaaaa 1px solid; display:block;">プログラムリスト
</td><td valign="top" id="rgn_content4" style="border-style:none; margin-bottom: -1.5em; position:relative; top: -0.75em; display:none;">
<div class="basic-source"><div class="basic-list"><code><ol><li>ＡＣＬＳ</li>
<li>ＧＰＡＧＥ　１，１，１</li>
<li>Ｘ２＝０</li>
<li>Ｘ＝０</li>
<li>Ｙ２＝０</li>
<li>Ｙ＝０</li>
<li>ＣＯＬ＝１５</li>
<li>’−−−−−−−−−−−−−−−−−−−−</li>
<li>＠ＴＯＵＣＨ</li>
<li>ＯＴ＝ＴＳＴ</li>
<li>ＴＳＴ＝ＴＣＨＳＴ</li>
<li>ＴＸ＝ＴＣＨＸ</li>
<li>ＴＹ＝ＴＣＨＹ</li>
<li>ＩＦ　！ＯＴ　ＡＮＤ　ＴＳＴ　ＴＨＥＮ　Ｘ＝ＴＸ：Ｙ＝ＴＹ</li>
<li>ＩＦ　ＯＴ　ＡＮＤ　！ＴＳＴ　ＴＨＥＮ　Ｘ２＝ＴＸ：Ｙ２＝ＴＹ：ＧＯＳＵＢ　＠ＲＩＮＧ</li>
<li>ＩＦ　ＢＴＲＩＧ（）　ＡＮＤ　１６　ＴＨＥＮ　ＧＣＬＳ　</li>
<li>ＧＯＴＯ　＠ＴＯＵＣＨ</li>
<li></li>
<li>＠ＲＩＮＧ</li>
<li></li>
<li>ＢＸ＝０：ＢＹ＝０</li>
<li>ＨＡＮＫＥＩＸ＝ＡＢＳ（Ｘ２−Ｘ）</li>
<li>ＨＡＮＫＥＩＹ＝ＡＢＳ（Ｙ２−Ｙ）</li>
<li>ＸＳ＝ＨＡＮＫＥＩＸ／２</li>
<li>ＹＳ＝ＨＡＮＫＥＩＹ／２</li>
<li></li>
<li>ＦＯＲ　Ｇ＝０　ＴＯ　３６０</li>
<li>　Ｘ４＝ＣＯＳ（ＲＡＤ（Ｇ））＊（ＸＳ）＋Ｘ＋ＸＳ</li>
<li>　Ｙ４＝ＳＩＮ（ＲＡＤ（Ｇ））＊（ＹＳ）＋Ｙ＋ＹＳ</li>
<li>　ＩＦ　ＢＸ＝＝０　ＡＮＤ　ＢＹ＝＝０　ＴＨＥＮ　ＢＸ＝Ｘ４：ＢＹ＝Ｙ４</li>
<li>　ＧＬＩＮＥ　ＢＸ，ＢＹ，Ｘ４，Ｙ４，ＣＯＬ</li>
<li>　ＢＸ＝Ｘ４：ＢＹ＝Ｙ４</li>
<li>ＮＥＸＴ</li>
<li></li>
<li>Ｘ４＝ＣＯＳ（ＲＡＤ（０））＊（ＸＳ）＋Ｘ＋ＸＳ</li>
<li>Ｙ４＝ＳＩＮ（ＲＡＤ（０））＊（ＹＳ）＋Ｙ＋ＹＳ</li>
<li></li>
<li>ＧＬＩＮＥ　ＢＸ，ＢＹ，Ｘ４，Ｙ４，ＣＯＬ</li>
<li></li>
<li>ＲＥＴＵＲＮ</li>
</ol></code></div></div>
</td></tr></table>
<p>FORループ内にWAITを入れるとどういうふうに書いているのかわかると思います。</p>

<h3 id="f_tan">TAN関数</h3>
<p>この関数は傾きを返すための関数です。<br />
「傾き」ってわかりますか？中学生で習いましたよね。(まだ中学生じゃない人もいるかも・・・)<br />
<br />
そんな人のためにグラフを用意しました〜。<br />
<a href="/petc/?plugin=attach&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;openfile=%B7%B9%A4%AD%A4%C3%A4%C6%A4%CA%A4%F3%A4%C0%A4%C3%A4%B1%A1%A9.png" title="傾きってなんだっけ？.png"><img src="/petc/?plugin=ref&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;src=%B7%B9%A4%AD%A4%C3%A4%C6%A4%CA%A4%F3%A4%C0%A4%C3%A4%B1%A1%A9.png" alt="傾きってなんだっけ？.png" title="傾きってなんだっけ？.png" width="400" height="400" /></a><br />
はい、わかりましたか？まあいいんです。なんとなくわかれば。<br />
なんか中学校の授業っぽいですね。まあグラフは学校でもプログラムでも重要ですし。<br /></p>
<p>話がそれました。閑話休題。</p>
<p>さてTANはどのようになるのか。ここまで説明したように下の図のようになります。<br />
<a href="/petc/?plugin=attach&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;openfile=tan%A4%C3%A4%C6%A4%CA%A4%F3%A4%C7%A4%C3%A4%B1%A1%A9.png" title="tanってなんでっけ？.png"><img src="/petc/?plugin=ref&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;src=tan%A4%C3%A4%C6%A4%CA%A4%F3%A4%C7%A4%C3%A4%B1%A1%A9.png" alt="tanってなんでっけ？.png" title="tanってなんでっけ？.png" width="381" height="369" /></a><br />
わかりましたでしょうか？つまりsin(yの変化)のcos(xの変化)に対する比＝直線の傾きということです。なので90°、270°の時は0で割ることになるので値が出ませんね。<br /></p>

<h3 id="f_atan">ATAN関数</h3>
<p>この関数は他のと名前が少し違いますね。アーク+タンジェントです。<br />
じつはこの種類、他にもアークコサイン、アークサインがあります。<br />
つまり他の関数と対になっていて逆三角関数とも言われますが、どうなっているのでしょう。<br /></p>
<p>この関数はいままでの関数と逆の働きをします。<br />
これまでの関数はすべて角度がわかっていました。しか〜し。やはりプログラムの中でXとYの変化はわかったけど角度がわからん。なんてシチュエーションもあるでしょう、その時はこの関数を使います。<br />
<a href="/petc/?plugin=attach&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;openfile=%A5%B9%A5%E9%A5%DE%A5%C3%A5%D1%A5%AE%A1%BC.png" title="スラマッパギー.png"><img src="/petc/?plugin=ref&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;src=%A5%B9%A5%E9%A5%DE%A5%C3%A5%D1%A5%AE%A1%BC.png" alt="スラマッパギー.png" title="スラマッパギー.png" width="381" height="236" /></a><br />
使い方は<br />
<br />
<strong>角度のラジアン数＝ATAN(yの移動量÷ｘの移動量)</strong><br />
または<br />
<strong>角度のラジアン数＝ATAN(yの移動量,ｘの移動量)</strong><br />
でもとめられます。<br />
<br />
この引数が１つの書き方と２つの書き方では結果が少々異なります。<br />
上の図で考えてみましょう。<strong>Xが80増えてYが40増えて</strong>いるから引数が１つの書き方で書いてみるとこうなります。<br /></p>
<div class="basic-noline"><div class="basic-list"><code><ol><li>？ＡＴＡＮ（４０／８０）</li>
<li>０．４６４</li>
<li>ＯＫ</li>
</ol></code></div></div>
<p>では、<strong>Xが80減ってYが40減って</strong>いるときはどうでしょう？<br /></p>
<div class="basic-noline"><div class="basic-list"><code><ol><li>？ＡＴＡＮ（−４０／−８０）</li>
<li>０．４６４</li>
<li>ＯＫ</li>
</ol></code></div></div>
<p>同じ結果になってしまいました。どちらも引数に0.5を渡しているだけなので当然ですね。<br />
では引数が２つの書き方(巷ではATAN2とも呼ばれています)を見てみましょう。<br /></p>
<div class="basic-noline"><div class="basic-list"><code><ol><li>？ＡＴＡＮ（４０，８０）</li>
<li>０．４６４</li>
<li>ＯＫ</li>
<li>？ＡＴＡＮ（−４０，−８０）</li>
<li>−２．６７８</li>
<li>ＯＫ</li>
</ol></code></div></div>
<p>この２つの差は3.142となり、丁度π(180°)逆を向いていることがわかります。<br />
つまり、線の向きを気にしない時は引数が１つ、気にする時は引数が２つの書き方がおすすめです。<br />
また、Xの変化量が0になるかもしれない時も引数が２つの書き方の方がおすすめです。(0除算のエラーが発生しません)<br /></p>
<p>ATANの返す値の範囲は以下の範囲になります。</p>
<div class="table-wrapper"><table class="border"><thead><tr><td class="style_td" rowspan="2" style="text-align:center;">引数</td><td class="style_td" colspan="2" style="text-align:center;">範囲</td></tr><tr><td class="style_td" style="text-align:center;">ラジアン</td><td class="style_td" style="text-align:center;">デグリー</td></tr></thead><tbody><tr><td class="style_td" style="text-align:center;">１つ</td><td class="style_td" style="text-align:center;">-π/2 〜 π/2</td><td class="style_td" style="text-align:center;">-90°〜 90°</td></tr><tr><td class="style_td" style="text-align:center;">２つ</td><td class="style_td" style="text-align:center;">-π 〜 π</td><td class="style_td" style="text-align:center;">-180°〜 180°</td></tr></tbody></table></div>
<p><br />
サンプルプログラム</p>
<div class="table-wrapper"><table class="border"><tbody><tr><th class="style_th">QRコード(ATANTEST)</th></tr><tr><td class="style_td"><a href="/petc/?plugin=attach&amp;refer=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;openfile=ATANTEST.PNG" title="ATANTEST.PNG"><img src="/petc/?plugin=ref&amp;page=Mame%2F%BB%B0%B3%D1%B4%D8%BF%F4%A4%CE%BB%C8%A4%A4%CA%FD&amp;src=ATANTEST.PNG" alt="ATANTEST.PNG" title="ATANTEST.PNG" width="189" height="194" /></a></td></tr></tbody></table></div>
<table class="region-table" style="margin-left: -0.5em; border-style:none;"><tr>
<td valign="top" style="vertical-align: top; border-style:none;">
	<span id="rgn_button5" style="cursor:pointer;border:gray 1px solid;padding-left:0.35em;padding-right:0.35em;"
	onclick="
	if(document.getElementById('rgn_summary5').style.display!='none'){
		document.getElementById('rgn_summary5').style.display='none';
		document.getElementById('rgn_content5').style.display='block';
		document.getElementById('rgn_bracket5').style.borderStyle='solid none solid solid';
		document.getElementById('rgn_button5').innerHTML='-';
	}else{
		document.getElementById('rgn_summary5').style.display='block';
		document.getElementById('rgn_content5').style.display='none';
		document.getElementById('rgn_bracket5').style.borderStyle='none';
		document.getElementById('rgn_button5').innerHTML='+';
	}
	">+</span>
</td><td id="rgn_bracket5" style="font-size:1pt ;border:#aaaaaa 1px; width:4px; padding:0; border-style:none;">&nbsp;</td><td id="rgn_summary5" style="color:#aaaaaa ;border:#aaaaaa 1px solid; display:block;">プログラムリスト
</td><td valign="top" id="rgn_content5" style="border-style:none; margin-bottom: -1.5em; position:relative; top: -0.75em; display:none;">
<div class="basic-source"><div class="basic-list"><code><ol><li>’ＡＴＡＮ　ＴＥＳＴ</li>
<li>ＴＸ＝ＲＮＤ（２５６）</li>
<li>ＴＹ＝ＲＮＤ（１９２）</li>
<li>ＰＸ＝ＲＮＤ（２５６）</li>
<li>ＰＹ＝ＲＮＤ（１９２）</li>
<li>ＰＣ＝ＲＮＤ（３６０）</li>
<li>ＡＣＬＳ</li>
<li>ＧＰＡＧＥ　０，０，０：ＧＣＬＳ　０</li>
<li>ＧＰＡＧＥ　０，２，０：ＧＣＬＳ　０</li>
<li>＠ＬＯＯＰ</li>
<li>’タ−ケ゛ット　ト　フ゜レイヤ−　ノ　キョリ</li>
<li>ＬＸ＝ＴＸ−ＰＸ</li>
<li>ＬＹ＝ＴＹ−ＰＹ</li>
<li>’カクト゛ヲ　モトメル。</li>
<li>ＴＣ＝ＤＥＧ（ＡＴＡＮ（ＬＹ，ＬＸ））</li>
<li>ＩＦ　ＴＣ＜０　ＴＨＥＮ　ＴＣ＝ＴＣ＋３６０</li>
<li>ＬＯＣＡＴＥ　０，０</li>
<li>？”Ｘ：Ｙ”</li>
<li>？”ｔａｒｇｅｔ”</li>
<li>？ＴＸ”：”ＴＹ”　　　”</li>
<li>？”ｐｌａｙｅｒ”</li>
<li>？ＦＬＯＯＲ（ＰＸ）”：”ＦＬＯＯＲ（ＰＹ）”：”ＦＬＯＯＲ（ＰＣ）”゜　　”</li>
<li>？”フ゜レ−ヤ−　ト　タ−ケ゛ット　ノ　カクト゛”</li>
<li>？ＦＬＯＯＲ（ＴＣ）”゜　　”</li>
<li>’イマノ　ホウコウ　トノ　サ</li>
<li>ＣＯＬＯＲ　０</li>
<li>ＩＦ　ＴＣ−ＰＣ＞１８０　ＴＨＥＮ　ＴＣ＝ＴＣ−３６０</li>
<li>ＩＦ　ＴＣ−ＰＣ＜−１８０　ＴＨＥＮ　ＰＣ＝ＰＣ−３６０</li>
<li>ＩＦ　ＴＣ−ＰＣ＞３０　ＴＨＥＮ　ＰＣ＝ＰＣ＋２＋Ｕ：？”ミキ゛センカイ　チュウ　”</li>
<li>ＩＦ　ＴＣ−ＰＣ＜−３０　ＴＨＥＮ　ＰＣ＝ＰＣ−２−Ｕ：？”ヒタ゛リセンカイ　チュウ”</li>
<li>ＩＦ　ＰＣ＞３６０　ＴＨＥＮ　ＰＣ＝ＰＣ−３６０</li>
<li>ＩＦ　ＰＣ＜０　ＴＨＥＮ　ＰＣ＝ＰＣ＋３６０</li>
<li>？ＣＨＲ＄（０）＊３２；</li>
<li>ＰＸ＝ＰＸ＋ＣＯＳ（ＲＡＤ（ＰＣ））</li>
<li>ＰＹ＝ＰＹ＋ＳＩＮ（ＲＡＤ（ＰＣ））</li>
<li>ＧＰＡＧＥ　０，２，０：ＧＣＬＳ　０</li>
<li>ＧＣＩＲＣＬＥ　ＴＸ，ＴＹ，５，５</li>
<li>ＧＣＩＲＣＬＥ　ＰＸ，ＰＹ，５，８</li>
<li>ＧＬＩＮＥ　ＰＸ，ＰＹ，ＰＸ＋ＣＯＳ（ＲＡＤ（ＰＣ））＊１５，ＰＹ＋ＳＩＮ（ＲＡＤ（ＰＣ））＊１５，８</li>
<li>ＧＰＡＧＥ　０，０，０：</li>
<li>ＧＣＯＰＹ　２，０，０，２５５，１９１，０，０，１</li>
<li>ＩＦ　ＡＢＳ（ＰＸ−ＴＸ）＜４　ＡＮＤ　ＡＢＳ（ＰＹ−ＴＹ）＜４　ＴＨＥＮ　ＴＸ＝ＲＮＤ（２５６）：ＴＹ＝ＲＮＤ（１９２）：Ｕ＝０</li>
<li>ＩＦ　ＡＢＳ（ＰＸ−ＴＸ）＜２０　ＡＮＤ　ＡＢＳ（ＰＹ−ＴＹ）＜２０　ＴＨＥＮ　Ｕ＝Ｕ＋０．１</li>
<li>ＶＳＹＮＣ　１</li>
<li>ＧＯＴＯ＠ＬＯＯＰ</li>
</ol></code></div></div>
</td></tr></table>
<p>プレイヤーとターゲットの角度を測り、30°以上であれば旋回してターゲットに向かいます。公式サンプルプログラムのGAME4のミサイルなどはこの関数を使っています。つまり<strong>追尾</strong>ができるということです。</p>

<h3 id="Question">質問コーナー</h3>
<p>関係ないことを書き込んだ場合削除します。あしからず。</p>
<ul><li><strong>いったん</strong> : まめちしき投稿してみました。いろいろと違うところがあるかもしれませんが直していただけると嬉しいです。 (<span class="comment_date">2012/11/24 (土) 00:16:18</span>)</li>
<li><strong>melville</strong> : ちょっといじってみました (<span class="comment_date">2012/11/24 (土) 07:22:39</span>)</li>
<li><strong>名無しさん</strong> : cosとsinで円かけるぞ (<span class="comment_date">2013/04/05 (金) 13:37:54</span>)</li>
<li><strong>いったん</strong> : ↑活用法とかあったら是非付けたしていってください。編集は自由なので。 (<span class="comment_date">2013/04/05 (金) 14:56:01</span>)</li>
<li><strong>ゆうあし</strong> : 3DSからだから編集できないのでここに書きます。 ・ラジアンについて。 半径1の扇形を想像して下さい。その時の弧の長さは「直径(2)*π*(角度/360)」ですよね。この時、角度は弧の長さで表せられます。ちなみに360°のような角度の表し方を「度数法」、2πのような「弧度法」と言います。  (<span class="comment_date">2013/11/30 (土) 14:54:45</span>)</li>
<li><strong>ゆうあし</strong> : 説明力ほしい…。ちなみに90°=1/2π、180°=π、270°=3/2π、360°=2πの筈です。説明書にも書いてありますが一応。 (<span class="comment_date">2013/11/30 (土) 14:58:03</span>)</li>
<li><strong>名無しさん</strong> : ATANの違いについて追記してみました。文章力には自信はないので校正なり全ボツなりご自由にどうぞ (<span class="comment_date">2013/12/07 (土) 04:12:08</span>)</li>
<li><strong>暁</strong> : DEG(ATAN(敵x,敵y))で求めた角度と同じ角度で進んでも敵にぶつからない...なぜ...(スプライト) (<span class="comment_date">2014/01/21 (火) 20:16:02</span>)</li>
<li><strong>いったん</strong> : ATAN関数の引数は(敵<strong>y</strong>-自<strong>y</strong>,敵<strong>x</strong>-自<strong>x</strong>)です。確認してください。 (<span class="comment_date">2014/01/21 (火) 20:30:39</span>)</li>
<li><strong>暁</strong> : お、ほんとだ、ありがとうございます&gt;いったんさん (<span class="comment_date">2014/01/21 (火) 21:09:28</span>)</li>
<li><strong>暁</strong> : ん、でも自機が敵よりもyの数字が大きかったら敵の方向に行きませんねえ、ずっと回ってばっかりで (<span class="comment_date">2014/01/21 (火) 21:18:28</span>)</li>
<li><strong>今は名無し</strong> : 三角関数で渦巻き描けた (<span class="comment_date">2014/04/20 (日) 18:41:07</span>)</li>
<li><strong>名無しさん</strong> : 勉強になりました^ - ^ (<span class="comment_date">2014/05/20 (火) 00:51:07</span>)</li>
<li><strong>名無し</strong> : arcsinの解説と使い方お願いします (<span class="comment_date">2014/09/05 (金) 15:44:15</span>)</li>
<li><strong>名無しさん</strong> : ↑逆正弦関数(arcsin)はプチコンにはなかったと思うけど (<span class="comment_date">2014/09/05 (金) 17:22:30</span>)</li>
<li><strong>名無しさん</strong> : arcsinはATANを元に計算できる (<span class="comment_date">2014/09/05 (金) 18:21:35</span>)</li>
<li><strong>12さいくん</strong> : TANのとこに「中学で習った」って書いてあるけど、小６で習った (<span class="comment_date">2014/11/16 (日) 20:24:25</span>)</li>
<li><strong>名無しさん</strong> : 追尾できるとか胸熱 (<span class="comment_date">2017/03/10 (金) 04:03:56</span>)</li>
<li><strong>名無しさん</strong> : 追尾できるとか胸熱 (<span class="comment_date">2017/03/10 (金) 04:03:57</span>)</li></ul>
<br />
<form action="/petc/" method="post"> 
<div><input type="hidden" name="encode_hint" value="ぷ" /></div>
 <div>
  <input type="hidden" name="plugin" value="comment" />
  <input type="hidden" name="refer"  value="Mame/三角関数の使い方" />
  <input type="hidden" name="comment_no" value="0" />
  <input type="hidden" name="nodate" value="0" />
  <input type="hidden" name="above"  value="1" />
  <input type="hidden" name="digest" value="bab6a3fc0d4ee102e2c2d561267f1759" />
  <label for="_p_comment_name_0">お名前: </label><input type="text" name="name" id="_p_comment_name_0" size="15" />

  <input type="text"   name="msg_text" id="_p_comment_comment_0" size="70" />
  <input type="submit" name="comment" value="コメントの挿入" />
 </div>
</form>
</div>

		</div>

		<div class="clear"></div>

	</div>

	<div id="block-pukiwiki-info">

<p id="notes">
<a id="notefoot_1" href="#notetext_1" class="note_super">*1</a>
<span class="small">まあそれだけじゃありませんけど</span><br />
<a id="notefoot_2" href="#notetext_2" class="note_super">*2</a>
<span class="small">ラジアン＝角度*PI()/180 , 角度＝ラジアン/PI()*180でも求められますが、精度に不安があるためおすすめしません。</span><br /></p>


		<p id="pukiwiki-about"><strong>PukiWiki 1.4.7</strong> Copyright &copy; 2001-2006 <a href="http://pukiwiki.sourceforge.jp/">PukiWiki Developers Team</a>. License is <a href="http://www.gnu.org/licenses/gpl.html">GPL</a>. Based on "PukiWiki" 1.3 by <a href="http://factage.com/yu-ji/">yu-ji</a><br />
		ページの処理時間 : 0.047 秒  | このページの最終更新 : 2017/03/10 (金) 04:03:57  (105d) | <a href="/petc/?plugin=login">ログイン</a><br />
		Copyright(C) 2011-2014 プチコンまとめWiki ◆1sxkymI8ji30</p>

	</div>

</div>

<script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-2091180-9']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();

</script>

</body>

</html>
